(this["webpackJsonp@bebomining/client"]=this["webpackJsonp@bebomining/client"]||[]).push([[0],{262:function(e,t){},273:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),i=a(8),s=a(6),l=a(196),d=a(452),u=a(433),j=a(155),p=a(12),h=a.n(p),b=a(17),x=a(197),m=a.n(x),f={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun.l.google.com:19302"]}],iceCandidatePoolSize:"10"},v="http://192.168.1.63:8081";var O=r.a.createContext(),g=r.a.createContext(),N=a(13),y=a(14),w=a(19),S=a(18),C=a(27),k=a(28),W=a(30),T=a(432);function B(){return Object(n.useContext)(O)}function I(e){return R.apply(this,arguments)}function R(){return(R=Object(b.a)(h.a.mark((function e(t){var a,n,r,o,c,i,s,l=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=l.length>1&&void 0!==l[1]?l[1]:{}).method=n.method||"GET",n.headers=n.headers||{},(null===(a=n.headers)||void 0===a?void 0:a["Content-Type"])||(n.headers["Content-Type"]="application/json"),"undefined"!==typeof n.body&&(n.body=JSON.stringify(n.body)),e.next=7,window.fetch(t,n);case 7:if(!((r=e.sent).status>=400)){e.next=23;break}return o="FetchError: ".concat(r.status," ").concat(r.statusText),(c=new Error(o)).statusCode=r.status,c.url=t,c.method=n.method,e.prev=14,e.next=17,r.json();case 17:i=e.sent,s=i.error||o,c.message=s;case 20:throw e.prev=20,c;case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,null,[[14,,20,23]])})))).apply(this,arguments)}function H(e){return P.apply(this,arguments)}function P(){return(P=Object(b.a)(h.a.mark((function e(t){var a,n,r,o,c,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:1600,n=new Promise((function(e){return setTimeout(e,a)})),e.next=4,Promise.all([t,n]);case 4:return r=e.sent,o=Object(s.a)(r,1),c=o[0],e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="1e".concat(t),n=(Math.round(e*a)/a).toFixed(t);return 0===e?0:n},E=a(435),A=a(439),M=a(438),L=a(434),z=a(436),F=a(437),U=a(431);function G(){var e=B().apiServer,t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(null),i=Object(s.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(null),j=Object(s.a)(u,2),p=j[0],x=j[1];return{loading:l,install:function(){var t=Object(b.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,fetch("".concat(e,"/api/v1/miners"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(!((n=t.sent).status>=400)){t.next=7;break}throw new Error("Error downloading: ".concat(a.minerName,"! Try again!"));case 7:return t.next=9,n.json();case 9:if(201===(r=t.sent).statusCode){t.next=12;break}throw new Error("Error installing: ".concat(a.minerName," - releaseId: ").concat(releaseId));case 12:d(!1),o(r),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),d(!1),x(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}(),error:p,data:r}}function _(e,t){var a=Object(n.useState)(null),r=Object(s.a)(a,2),o=r[0],c=r[1],i=Object(n.useState)(null),l=Object(s.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(null),p=Object(s.a)(j,2),h=p[0],b=p[1],x=Object(n.useRef)(!1);return Object(n.useEffect)((function(){return function(){x.current=!0}}),[]),Object(n.useEffect)((function(){u(!0),c(null),b(null),I(e,t).then((function(e){return e.json()})).then((function(e){x.current||(c(e),u(!1))})).catch((function(e){x.current||(b(e),u(!1))}))}),[e]),{data:o,loading:d,error:h,updateData:c}}var V=a(455),X=a(1);function q(e){var t=e.severity,a=void 0===t?"error":t,r=e.message,o=void 0===r?"No Content !":r,c=e.identifier,s=Object(n.useContext)(g),l=Object(n.useCallback)((function(){s((function(e){var t=e.list.filter((function(e){return c!==e.props.identifier}));return Object(i.a)(Object(i.a)({},e),{},{list:t})}))}),[]);return Object(X.jsx)(V.a,{onClose:function(){return l()},style:{margin:"4px 0"},severity:a,children:o})}function Y(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useContext)(g),l=Object(n.useCallback)((function(e){var t=Date.now()+Math.floor(1e8*Math.random()),a=r.a.cloneElement(e,{identifier:t});i((function(e){return{list:[].concat(Object(W.a)(e.list),[a])}}))}),[]);return Object(n.useEffect)((function(){o&&l(Object(X.jsx)(q,{severity:"error",message:o.message}))}),[o]),Object(n.useEffect)((function(){e&&e!==o&&c(e)}),[e,o]),{setError:c}}var $={minWidth:"111px",minHeight:"36px"},J=function(){return null};function Z(e){var t=e.assetId,a=e.releaseId,n=e.minerName,r=G(),o=r.install,c=r.loading,i=r.data,s=r.error,l=function(e){var t=e.minerName,a=B().apiServer,n=_("".concat(a,"/api/v1/miners/").concat(t,"/_installed"));return{checking:n.loading,data:n.data,error:n.error}}({minerName:n}),d=l.checking,u=l.data;Y(s);var j=u&&"success"===u.status&&void 0!==u.results.find((function(e){var a=e.assetId;return t===a})),p=j||i&&"success"===i.status?"Reinstall":"Install",h=j||i&&"success"===i.status?"secondary":"primary",b=d||null===d||!0===c,x=b?J:function(){return o({assetId:t,releaseId:a,minerName:n})};return Object(X.jsx)(U.a,{style:$,size:"medium",variant:"contained",disabled:b,onClick:x,color:h,children:c?Object(X.jsx)(T.a,{size:20}):p})}var K=Object(u.a)({table:{flex:1},TableHead:{fontWeight:"bold"}});function Q(e){var t=e.minersInfo,a=K();return console.log(t),Object(X.jsx)(L.a,{className:a.table,children:Object(X.jsxs)(E.a,{"aria-label":"miner details",children:[Object(X.jsx)(z.a,{children:Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{className:a.TableHead,children:"Tag Name"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Info Release"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Supports"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Actions"})]})}),Object(X.jsx)(A.a,{children:t.map((function(e){var t=e.minerName,a=e.nameWithTag,n=e.tag_name,r=e.supports,o=e.html_url,c=e.assets,i=e.id;return Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{component:"th",scope:"row",children:a}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:Object(X.jsx)("a",{title:n,target:"_blank",href:o,rel:"noreferrer",children:o})}),Object(X.jsx)(M.a,{component:"th",children:r}),Object(X.jsx)(M.a,{component:"th",children:Object(X.jsx)(Z,{assetId:c.id,releaseId:i,minerName:t})})]},n)}))})]})})}var ee=Object(u.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:224,marginTop:"8px"},loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}}}));function te(){var e=ee(),t=B().apiServer,a=Object(n.useState)((function(){return null})),r=Object(s.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(){var a,n,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("".concat(t,"/api/v1/miners"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,r=n.results.map((function(e){var a=e.name,n=e.minerMode,r=e.supports;return I("".concat(t,"/api/v1/miners/").concat(a.toLowerCase(),"/releases")).then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{minerName:a,supports:r,nameWithTag:"".concat(a," ").concat(e.tag_name),minerMode:n})}))}))})),e.next=9,Promise.all(r);case 9:o=e.sent,s=o.reduce((function(e,t){return[].concat(Object(W.a)(e),Object(W.a)(t))}),[]).sort((function(e,t){return e.minerMode>t.minerMode?-1:t.minerMode>e.minerMode?1:0})),c(s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),null===o?Object(X.jsx)("div",{className:e.loadingBar,children:Object(X.jsx)(T.a,{})}):Object(X.jsx)("div",{className:e.root,children:Object(X.jsx)(Q,{minersInfo:o})})}var ae=a(25),ne=a.n(ae),re=a(444),oe=a(446),ce=a(445),ie=a(122),se=a.n(ie),le=a(203),de=a.n(le),ue=a(204),je=a.n(ue),pe=a(121),he=a.n(pe),be=a(201),xe=a.n(be),me=a(202),fe=a.n(me),ve=!0,Oe=!1,ge={true:"Run",false:"Stop"};function Ne(e){var t=e.innerRef,a=e.onPlay,r=e.onStop,o=e.className,c=e.forceDisabled,i=e.initialStatus,l=void 0===i?ve:i,d=Object(n.useState)((function(){return l})),u=Object(s.a)(d,2),j=u[0],p=u[1],h=Object(n.useRef)(j),b=Object(n.useState)((function(){return ge[j]})),x=Object(s.a)(b,2),m=x[0],f=x[1],v=Object(n.useState)((function(){return!1})),O=Object(s.a)(v,2),g=O[0],N=O[1];Object(n.useImperativeHandle)(t,(function(){return{forceShowPlayBtn:function(){N(!0),h.current=ve,p(ve),setTimeout((function(){f(ge[ve]),N(!1)}),100)}}})),Object(n.useEffect)((function(){h.current===ve&&j===Oe?(N(!0),null===a||void 0===a||a().then((function(){f(ge[Oe]),h.current=j})).catch((function(){return p(ve)})).finally((function(){return N(!1)}))):h.current===Oe&&j===ve&&(N(!0),null===r||void 0===r||r().then((function(){f(ge[ve]),h.current=j})).catch((function(){return p(Oe)})).finally((function(){return N(!1)})))}),[j]);var y=m===ge[ve],w=y?ge[ve]:ge[Oe],S=y?"default":"secondary";return Object(X.jsx)(U.a,{className:o,size:"small",disabled:g||c,color:S,"aria-label":m,title:m,startIcon:y?Object(X.jsx)(xe.a,{}):Object(X.jsx)(fe.a,{}),onClick:function(){return p((function(e){return!e}))},children:w})}var ye=a(460),we=a(443),Se=a(441),Ce=a(442),ke=a(440),We=function(){return null};function Te(e){var t=e.title,a=void 0===t?"Do you confirm the operation?":t,n=e.content,r=e.onConfirm,o=void 0===r?We:r,c=e.onCancel,i=void 0===c?We:c;return Object(X.jsxs)(ye.a,{open:!0,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(X.jsx)(ke.a,{id:"alert-dialog-title",children:a}),Object(X.jsx)(Se.a,{children:Object(X.jsx)(Ce.a,{id:"alert-dialog-description",children:n})}),Object(X.jsxs)(we.a,{children:[Object(X.jsx)(U.a,{onClick:i,children:"Cancel"}),Object(X.jsx)(U.a,{onClick:o,color:"primary",autoFocus:!0,children:"Confirm"})]})]})}var Be="WITH_ACTION_PROGRESS",Ie=Be;function Re(e){var t=e.workerName,a=e.coinName,r=e.minerMode,o=e.minerName,c=e.poolName,i=e.walletName,l=e.algo,d=e.id,u=e.isRunning,p=void 0!==u&&u,x=e.onRemoveWorker,m=He(),f=B(),v=f.apiServer,O=f.bus,g=f.winStatus,N=Object(k.f)(),y=Object(n.useState)((function(){return p})),w=Object(s.a)(y,2),S=w[0],C=w[1],W=Object(n.useState)((function(){return!1})),T=Object(s.a)(W,2),R=T[0],P=T[1],E=Object(n.useState)((function(){return!1})),A=Object(s.a)(E,2),M=A[0],L=A[1],z=function(){var e=Object(b.a)(h.a.mark((function e(){var a,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,a="".concat(v,"/api/v1/workers/").concat(d,"/_start"),n=H(I(a,{method:"POST"})),r="Starting ".concat(t,"..."),O.emit(Ie,{promise:n,label:r}),e.next=8,n;case 8:o=e.sent,C(!0),console.log("onPlay ",o);case 11:return e.prev=11,P(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,,11,14]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(h.a.mark((function e(){var a,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),P(!0),e.prev=2,a="".concat(v,"/api/v1/workers/").concat(d,"/_stop"),n=H(I(a,{method:"POST"})),r="Stopping ".concat(t,"..."),O.emit(Ie,{promise:n,label:r}),e.next=9,n;case 9:o=e.sent,C(!1),J(null),console.log("onStop ",o);case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,,13,16]])})));return function(){return e.apply(this,arguments)}}(),G=function(){return L((function(e){return!e}))},_=function(){var e=Object(b.a)(h.a.mark((function e(){var a,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),G(),e.prev=2,a="".concat(v,"/api/v1/workers/").concat(d),n=H(I(a,{method:"DELETE"})),r="Deleting Worker: '".concat(t,"'..."),O.emit(Ie,{promise:n,label:r}),e.next=9,n;case 9:o=e.sent,x({workerId:d}),console.log("onDelete Worker",o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:return e.prev=17,P(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),V=Object(n.useRef)(null),q=Object(n.useState)((function(){return null})),Y=Object(s.a)(q,2),$=Y[0],J=Y[1],Z=Object(n.useRef)(),K=Object(n.useRef)(!1),Q=Object(n.useRef)({status:S,winStatus:g});Q.current.status=S,Q.current.winStatus=g,Object(n.useEffect)((function(){if(K.current=!0,null===V.current){var e=function(){var e=Object(b.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K.current||!Q.current.status||"restore"!==Q.current.winStatus){e.next=14;break}return e.prev=1,e.next=4,I(t);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,K.current&&J(n.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),K.current&&(C(!1),J(null),Z.current.forceShowPlayBtn());case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),t="".concat(v,"/api/v1/workers/").concat(d,"/_stats");e(),V.current=setInterval(e,5e3)}return function(){K.current=!1,clearInterval(V.current)}}),[]);var ee=t.length>=30?"".concat(t.substring(0,30),"..."):t,te=S?"Check ".concat(ee," Stats"):void 0,ae=S?"primary":"inherit",ne=(null===$||void 0===$?void 0:$.session)||{},ie=ne.performance,le=ne.performanceUnit;return Object(X.jsxs)("div",{"data-id":d,className:m.CardWrapper,children:[Object(X.jsxs)(re.a,{title:te,className:m.root,variant:"outlined","data-running":S,children:[void 0!==ie&&Object(X.jsxs)("div",{className:m.Performance,children:[D(ie)," ",le]}),Object(X.jsxs)(ce.a,{children:[Object(X.jsx)(j.a,{title:"Name: ".concat(t),className:m.title,color:"textSecondary",gutterBottom:!0,children:Object(X.jsxs)("span",{className:m.WrapperStatsIcon,children:[Object(X.jsx)("span",{style:{maxWidth:"180px"},className:"text-ellipsis",children:t}),Object(X.jsx)(de.a,{color:ae})]})}),Object(X.jsxs)(j.a,{variant:"h5",component:"h2",className:m.textPrimary,children:["COIN: ",a]}),Object(X.jsx)(j.a,{className:m.textSecondary,color:"textSecondary",children:Object(X.jsxs)("span",{className:"text-ellipsis",children:[c," - ",l," - ",o," - ",r]})}),Object(X.jsxs)(j.a,{variant:"body2",component:"p",className:m.WalletInfo,children:[Object(X.jsx)(he.a,{}),Object(X.jsx)("span",{title:"Wallet Name: ".concat(i),className:"text-ellipsis",children:i})]})]}),Object(X.jsxs)(oe.a,{className:m.CardActions,children:[Object(X.jsx)(U.a,{className:m.buttons,size:"small",disabled:R||S,"aria-label":"remove",title:"remove",onClick:G,startIcon:Object(X.jsx)(se.a,{}),children:"Remove"}),Object(X.jsx)(U.a,{className:m.buttons,size:"small",disabled:R||S,"aria-label":"edit",title:"edit",onClick:function(){N.push("/workers/edit-worker/".concat(d))},startIcon:Object(X.jsx)(je.a,{}),children:"Edit"}),Object(X.jsx)(Ne,{innerRef:Z,className:m.buttons,forceDisabled:R,initialStatus:!S,onStop:F,onPlay:z})]}),Object(X.jsx)("div",{className:m.buttonCover,onClick:function(){S&&N.push("/workers/stats/".concat(d))}})]}),M&&Object(X.jsx)(Te,{content:"You will be removing the worker: '".concat(t,"'!"),onCancel:G,onConfirm:_})]})}var He=Object(u.a)({root:{position:"relative",width:"100%",textAlign:"left","&:hover[data-running='true'], &:focus[data-running='true']":{cursor:"pointer",boxShadow:"0px 10px 13px -7px #e0e0e0",border:"1px solid #3f51b5"}},Performance:{backgroundColor:"#439c43",padding:"2px 4px",position:"absolute",left:"50%",transform:"translateX(-50%)",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px",fontSize:"12px",color:"white",fontWeight:"bolder"},WrapperStatsIcon:{display:"flex",alignItems:"center",justifyContent:"space-between"},buttonCover:{width:"100%",position:"absolute",height:"100%",top:0,left:0,zIndex:1},buttons:{zIndex:2,position:"relative"},title:{fontSize:14},textSecondary:{marginBottom:12,textTransform:"lowercase"},textPrimary:{textTransform:"uppercase"},CardWrapper:{width:"100%",maxWidth:"334px",padding:"4px"},WalletInfo:{display:"flex",alignItems:"center","& span":{marginLeft:"4px"}},CardActions:{justifyContent:"space-between"}}),Pe=Object(u.a)({NoWorkers:{flex:1,flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center"},button:{marginTop:"32px"},textSecondary:{marginTop:"24px"}});function De(){var e=Pe(),t=Object(k.f)(),a=Object(k.i)();return Object(X.jsxs)("div",{className:e.NoWorkers,children:[Object(X.jsx)(j.a,{variant:"h4",children:"No Workers!"}),Object(X.jsx)(U.a,{variant:"contained",size:"large",color:"primary",className:e.button,startIcon:Object(X.jsx)(ne.a,{}),onClick:function(){return t.push("".concat(a.url,"/add-worker"))},children:"Add a new worker"}),Object(X.jsx)(j.a,{className:e.textSecondary,color:"textSecondary",children:"You do not have any worker yet! Please add a worker and start mining!"})]})}function Ee(){var e=Ae(),t=Object(k.f)(),a=Object(k.i)(),n=B().apiServer,r=_("".concat(n,"/api/v1/workers")),o=r.loading,c=r.data,s=r.error,l=r.updateData;if(Y(s),o||null===o)return Object(X.jsx)("div",{className:e.loadingBar,children:Object(X.jsx)(T.a,{size:50})});var d=function(e){var t=e.workerId;l((function(e){return Object(i.a)(Object(i.a)({},e),{},{results:e.results.filter((function(e){var a=e.id;return Number(a)!==Number(t)}))})}))},u=c.results;return(null===u||void 0===u?void 0:u.length)<=0?Object(X.jsx)(De,{}):Object(X.jsxs)("div",{className:e.Workers,children:[Object(X.jsx)("div",{className:e.NavBar,children:Object(X.jsx)(U.a,{variant:"contained",size:"small",color:"primary",className:e.button,startIcon:Object(X.jsx)(ne.a,{}),onClick:function(){t.push("".concat(a.path,"/add-worker"))},children:"Add Worker"})}),Object(X.jsx)("div",{id:"Grid_Workers",className:e.Grid,children:u.map((function(e){return Object(X.jsx)(Re,Object(i.a)({onRemoveWorker:d,isRunning:"number"===typeof e.pid},e),e.workerName)}))})]})}var Ae=Object(u.a)((function(){return{Workers:{width:"100%",height:"100%",flex:"1",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},Grid:{overflow:"auto",display:"flex",width:"100%",flexWrap:"wrap",padding:"6px","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},NavBar:{width:"100%",display:"flex",padding:"16px 8px"},loadingBar:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"}}})),Me=(a(273),a(33)),Le=a(9),ze=a(41),Fe=a.n(ze),Ue=a(461),Ge=a(447),_e=a(459),Ve=function(){return null},Xe=function(e){var t=e.size,a=e.startIcon,n=e.onClick,r=void 0===n?Ve:n,o=e.children,c=Object(Le.g)(),i=c.isValid,s=c.formStatus,l=c.submitted,d=s===Le.e.ON_SUBMIT;return Object(X.jsx)(U.a,{disabled:!i||d||l>0,type:"submit",size:t,variant:"contained",color:"primary",onClick:r,startIcon:a,children:o})},qe=Object(u.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},wrapper:{flex:1},wrapperContent:{width:"100%",height:"100%",justifyContent:"space-around",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",maxWidth:"50%"},backButton:{marginRight:e.spacing(4)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function Ye(e){var t=e.onChangeStep,a=e.activeStep,n=e.children,r=qe(),o=["Worker Name","Mining Mode","Config Pool","COIN","Wallet","Config Miner","Summary"],c=a===o.length-1?Object(X.jsx)(Xe,{type:"submit",variant:"contained",color:"primary",children:"Save"}):Object(X.jsx)(Xe,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),t(a+1)},children:"Next"});return Object(X.jsxs)("div",{className:r.root,children:[Object(X.jsx)(Ue.a,{activeStep:a,alternativeLabel:!0,children:o.map((function(e){return Object(X.jsx)(Ge.a,{children:Object(X.jsx)(_e.a,{children:e})},e)}))}),Object(X.jsx)("div",{className:r.wrapper,children:Object(X.jsxs)("div",{className:r.wrapperContent,children:[Object(X.jsx)(j.a,{variant:"h4",className:r.instructions,children:$e(a)}),Object(X.jsx)("div",{className:r.form,children:n}),Object(X.jsxs)("div",{children:[Object(X.jsx)(U.a,{disabled:0===a,onClick:function(e){e.preventDefault(),t(a-1)},className:r.backButton,children:"Back"}),c]})]})})]})}function $e(e){switch(e){case 0:return"Type the worker name";case 1:return"Mining mode: GPU or CPU?";case 2:return"Configure the pool you want to use";case 3:return"Select the coin you want to mine";case 4:return"Select the wallet you want to use";case 5:return"Config the miner software you want to use";case 6:return"Worker Settings";default:return"Unknown stepIndex"}}var Je=a(453);function Ze(e){var t=e.name,a=e.index,n=e.touched,r=void 0===n||n,o=e.validators,c=e.label,l=e.variant,d=e.inputProps,u=e.helperText,j=e.autoFocus,p=e.className,h=e.inputRef,b=Object(Le.i)(o),x=Object(s.a)(b,2),m=x[0],f=x[1],v=Object(Le.f)(Object(i.a)({type:"text",name:t,index:a,touched:r},f)),O=void 0!==m.error;return Object(X.jsx)(Je.a,Object(i.a)({fullWidth:!0,className:p,autoFocus:j,inputRef:h,label:c,variant:l,helperText:u,error:O,inputProps:d},v))}function Ke(){return Object(X.jsx)(Ze,{autoFocus:!0,helperText:"Accept letters, numbers and [#-_]...{2,50}",validators:[Qe],label:"Type Worker Name...",variant:"outlined",name:"workerName"})}var Qe=function(e){return e&&/^[a-zA-Z][a-zA-Z0-9#\-_]{2,50}$/.test(e)?void 0:"Name not valid"},et=a(214),tt=["onChangeValue","name","options","validators","matchValue","reduceValue","autoFocus","isMulti","isOptionDisabled"];function at(e){var t=e.onChangeValue,a=e.name,r=e.options,o=e.validators,c=e.matchValue,l=e.reduceValue,d=e.autoFocus,u=void 0===d||d,j=e.isMulti,p=void 0!==j&&j,h=e.isOptionDisabled,b=void 0===h?function(){return!1}:h,x=Object(Me.a)(e,tt),m=Object(Le.i)(o),f=Object(s.a)(m,2)[1],v=Object(n.useRef)(),O=Object(Le.f)(Object(i.a)({type:"custom",name:a},f)),g=O.value,N=O.setValue,y="function"===typeof c?c(r,g):p?g:r.find((function(e){return e.value===g}));return Object(n.useEffect)((function(){u&&setTimeout((function(){return v.current&&v.current.focus()}),150)}),[u]),Object(X.jsx)(et.a,Object(i.a)({maxMenuHeight:150,ref:v,options:r,onChange:function(e){var a;a=p?e:e.value,"function"===typeof l&&(a=l(a)),N(a),null===t||void 0===t||t(a)},value:y,isMulti:p,isOptionDisabled:function(){return b(y)}},x))}function nt(e){var t=e.options,a=void 0===t?[]:t,r=e.onChangeValue,o=B().apiServer,c=Object(n.useState)((function(){return a})),i=Object(s.a)(c,2),l=i[0],d=i[1],u=Object(Le.h)((function(e){return e.minerMode})),j=Object(s.a)(u,1)[0],p=_("".concat(o,"/api/v1/pools?algo=").concat(j)),h=p.loading,b=p.data;Y(p.error),Object(n.useEffect)((function(){b&&200===b.statusCode&&d(b.results.map((function(e){var t=e.name;return{value:t,label:t}})))}),[b]);var x=h||null===h;return Object(X.jsx)(at,{placeholder:"Select a pool...",onChangeValue:r,isDisabled:x,isLoading:x,options:l,name:"poolName",validators:[rt]})}var rt=function(e){return"string"===typeof e?void 0:"required"},ot=function(){return null};function ct(e){var t=e.options,a=void 0===t?[]:t,r=e.onChangeValue,o=B().apiServer,c=Object(Le.h)((function(e){return e.poolConfig.poolName})),i=Object(s.a)(c,1)[0],l=Object(Le.h)((function(e){return e.poolConfig.algo})),d=Object(s.a)(l,1)[0],u=Object(n.useState)((function(){return{}})),j=Object(s.a)(u,2),p=j[0],h=j[1],b=Object(n.useState)((function(){return a})),x=Object(s.a)(b,2),m=x[0],f=x[1],v=_("".concat(o,"/api/v1/pools/").concat(i,"/regions?algo=").concat(d.toLowerCase())),O=v.loading,g=v.data;Y(v.error),Object(n.useEffect)((function(){g&&200===g.statusCode&&(h(g.meta),f(g.results.map((function(e){var t=e.location,a=e.server;return{value:"".concat(a).trim(),label:"".concat(a," - (").concat(t,")")}}))))}),[g]);var N=O||null===O,y=p.multiRegion;return Object(X.jsx)(at,{reduceValue:y?function(e){return e.map((function(e){return e.value.toLowerCase()})).sort().join(",")}:null,matchValue:y?function(e,t){return null===t||void 0===t?void 0:t.split(",").map((function(t){return e.find((function(e){var a=e.value;return t.toLowerCase()===a.toLowerCase()}))}))}:null,isMulti:y,placeholder:"Select the server region...",onChangeValue:y?ot:r,isDisabled:N,isLoading:N,options:m,name:"poolRegion",validators:[it],isOptionDisabled:function(e){return y&&(null===e||void 0===e?void 0:e.length)>=2}})}var it=function(e){return"string"===typeof e?void 0:"required"};function st(e){var t=e.options,a=void 0===t?[]:t,r=e.onChangeValue,o=B().apiServer,c=Object(n.useState)((function(){return a})),i=Object(s.a)(c,2),l=i[0],d=i[1],u=Object(Le.h)((function(e){return e.poolConfig.poolName})),j=Object(s.a)(u,1)[0],p=Object(Le.h)((function(e){return e.minerMode})),h=Object(s.a)(p,1)[0],b=_("".concat(o,"/api/v1/pools/").concat(j,"/algos/").concat(h.toLowerCase())),x=b.loading,m=b.data;Y(b.error),Object(n.useEffect)((function(){m&&200===m.statusCode&&d(m.results.map((function(e){return{value:e.value,label:e.label.toUpperCase()}})))}),[m]);var f=x||null===x;return Object(X.jsx)(at,{placeholder:"Select an algorithm...",isDisabled:f,isLoading:f,options:l,onChangeValue:r,name:"algo",validators:[lt]})}var lt=function(e){return"string"===typeof e?void 0:"required"};function dt(e){var t=e.options,a=void 0===t?[]:t,r=e.onChangeValue,o=B().apiServer,c=Object(Le.h)((function(e){return console.log("state.poolConfig => ",e.poolConfig),e.poolConfig.poolName})),i=Object(s.a)(c,1)[0],l=Object(n.useState)((function(){return a})),d=Object(s.a)(l,2),u=d[0],j=d[1],p=_("".concat(o,"/api/v1/pools/").concat(i,"/regions")),h=p.loading,b=p.data;Y(p.error),Object(n.useEffect)((function(){if(b&&200===b.statusCode){var e=b.meta.ports,t={0:function(e){return"".concat(e," - (Suggested)")},1:function(e){return"".concat(e," - (Alternative)")},2:function(e){return"".concat(e," - (Alternative)")}};e&&j(e.map((function(e,a){return{value:e,label:t[a](e)}})))}}),[b]);var x=h||null===h;return Object(X.jsx)(at,{placeholder:"Select the port...",onChangeValue:r,isDisabled:x,isLoading:x,options:u,name:"poolPort",validators:[ut]})}var ut=function(e){return"string"===typeof e?void 0:"required"};function jt(e){var t=e.activeStep,a=e.children,n=e.evaluateNext,r=e.evaluatePrev,o=e.next,c=e.prev,i=pt(),s=Object(Le.g)().state,l=null===n||void 0===n?void 0:n(s,t),d=null===r||void 0===r?void 0:r(s,t);return Object(X.jsxs)("div",{className:i.root,children:[Object(X.jsx)("div",{className:i.children,children:a}),Object(X.jsxs)("div",{className:i.buttons,children:[Object(X.jsx)(U.a,{disabled:!d,size:"small",onClick:c,children:"Prev"}),Object(X.jsx)(U.a,{disabled:!l,size:"small",onClick:o,color:"primary",children:"Next"})]})]})}var pt=Object(u.a)((function(){return{root:{display:"flex",flex:1,flexDirection:"column"},children:{flex:1,marginTop:"24px"},buttons:{width:"35%",display:"flex",justifyContent:"space-between",marginTop:"16px",marginLeft:"auto",marginRight:"auto"}}}));function ht(){var e=["Name","Algorithm","Region","Port"],t=Object(n.useState)((function(){return 0})),a=Object(s.a)(t,2),r=a[0],o=a[1],c=bt(),i=function(){return o((function(e){return++e}))},l=function(e){var t=e.currentTarget;t.classList.contains("MuiStep-completed")&&o(Number(t.dataset.index))};return Object(X.jsxs)("div",{children:[Object(X.jsx)(Ue.a,{className:c.Stepper,activeStep:r,children:e.map((function(e,t){return Object(X.jsx)(Ge.a,{"data-index":t,onClick:l,children:Object(X.jsx)(_e.a,{children:e})},e)}))}),Object(X.jsx)(jt,{activeStep:r,prev:function(){return o((function(e){return--e}))},next:i,evaluatePrev:mt,evaluateNext:xt,children:Object(X.jsx)(Le.a,{object:!0,name:"poolConfig",validators:[ft],children:Object(X.jsxs)(Le.d,{children:[0===r&&Object(X.jsx)(nt,{onChangeValue:i},"0"),1===r&&Object(X.jsx)(st,{onChangeValue:i},"1"),2===r&&Object(X.jsx)(ct,{onChangeValue:i},"2"),3===r&&Object(X.jsx)(dt,{},"3")]})})})]})}var bt=Object(u.a)((function(){return{Stepper:{paddingTop:0}}}));function xt(e,t){var a,n,r,o,c,i;return 0===t&&(null===(a=e.poolConfig)||void 0===a?void 0:a.poolName)||1===t&&(null===(n=e.poolConfig)||void 0===n?void 0:n.poolName)&&(null===(r=e.poolConfig)||void 0===r?void 0:r.algo)||2===t&&(null===(o=e.poolConfig)||void 0===o?void 0:o.poolName)&&(null===(c=e.poolConfig)||void 0===c?void 0:c.algo)&&(null===(i=e.poolConfig)||void 0===i?void 0:i.poolRegion)}function mt(e,t){return t>0}function ft(e){return(null===e||void 0===e?void 0:e.poolName)&&(null===e||void 0===e?void 0:e.poolPort)&&(null===e||void 0===e?void 0:e.poolRegion)?void 0:"error"}function vt(e){var t=e.options,a=void 0===t?[]:t,r=B().apiServer,o=Object(n.useState)((function(){return a})),c=Object(s.a)(o,2),i=c[0],l=c[1],d=Object(Le.h)((function(e){return e.poolConfig.poolName})),u=Object(s.a)(d,1)[0],j=Object(Le.h)((function(e){return e.poolConfig.algo})),p=Object(s.a)(j,1)[0],h=_("".concat(r,"/api/v1/pools/").concat(u,"/coins?algo=").concat(p)),b=h.loading,x=h.data;Y(h.error),Object(n.useEffect)((function(){x&&200===x.statusCode&&l(x.results.map((function(e){var t=e.symbol;return{value:t.toUpperCase(),label:t.toUpperCase()}})))}),[x]);var m=b||null===b;return Object(X.jsx)(at,{placeholder:"Select a coin...",isDisabled:m,isLoading:m,options:i,name:"coinName",validators:[Ot]})}var Ot=function(e){return"string"===typeof e?void 0:"required"};function gt(e){var t=e.options,a=void 0===t?[]:t,r=e.onChangeValue,o=B().apiServer,c=Object(n.useState)((function(){return a})),i=Object(s.a)(c,2),l=i[0],d=i[1],u=_("".concat(o,"/api/v1/wallets")),j=u.loading,p=u.data;Y(u.error),Object(n.useEffect)((function(){p&&200===p.statusCode&&d(p.results.map((function(e){var t=e.walletName;return{value:t,label:t}})))}),[p]);var h=j||null===j;return Object(X.jsx)(at,{placeholder:"Pick a wallet...",onChangeValue:r,isDisabled:h,isLoading:h,options:l,name:"walletName",validators:[Nt]})}var Nt=function(e){return"string"===typeof e?void 0:"required"};function yt(e){var t=e.coinName,a=St(),n=Object(Le.h)((function(e){return e.addNewCoinForm.walletName})),r=Object(s.a)(n,1)[0],o=t.split("+");return Object(X.jsx)(Le.a,{array:!0,name:"addresses",children:o.map((function(e,t){return Object(X.jsx)(Ze,{index:t,className:a.TextField,autoFocus:0===t,helperText:"Add a valid '".concat(e,"' Address - Wallet: '").concat(r,"'"),validators:[wt],label:"Type your '".concat(e,"' Address..."),variant:"outlined"},e)}))})}var wt=function(e){return"string"===typeof e&&e.trim().length>=5?void 0:"Address not valid"},St=Object(u.a)((function(){return{TextField:{marginTop:"4px",marginBottom:"32px"}}})),Ct=function(e){Object(w.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={domElm:null},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this.state.domElm;return null===e?null:c.a.createPortal(this.props.children,e)}}],[{key:"getDerivedStateFromProps",value:function(e){return{domElm:document.querySelector(e.selector)}}}]),a}(r.a.PureComponent),kt=["addresses"];function Wt(e){var t=e.coinName,a=e.toggleWalletForm,r=["Pick a Wallet","Coin Address"],o=Tt(),c=B(),l=c.bus,d=c.apiServer,u=Object(n.useState)(0),p=Object(s.a)(u,2),x=p[0],m=p[1],f=Y().setError,v=Object(Le.g)().state;Object(n.useEffect)((function(){return function(){return console.log("useEffect unmounted")}}),[]);var O=function(e){var t,a;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),null===e||void 0===e||null===(a=e.stopPropagation)||void 0===a||a.call(e),x<r.length-1&&m(x+1)},g=function(){var e=Object(b.a)(h.a.mark((function e(n){var r,o,c,s,u,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===n||void 0===n||null===(r=n.preventDefault)||void 0===r||r.call(n),null===n||void 0===n||null===(o=n.stopPropagation)||void 0===o||o.call(n),e.prev=2,c=Object(i.a)(Object(i.a)({},v.addNewCoinForm),{},{coinName:t}),s=c.addresses,(u=Object(Me.a)(c,kt)).address=s.join("."),e.next=8,I("".concat(d,"/api/v1/coins"),{method:"POST",body:u});case 8:a(),l.emit("GO_NEXT"),e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(2),console.log(e.t0),j="Error saving ".concat(t," address!"),f(new Error(j)),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),N=x>=r.length-1,y=N?g:O,w=N&&Object(X.jsx)(ne.a,{});return Object(X.jsx)(Ct,{selector:"#FormWorkerPortal",children:Object(X.jsxs)("div",{className:o.FormWrapper,children:[Object(X.jsxs)(j.a,{variant:"h4",children:["Add ",Object(X.jsx)("b",{children:t})," into an existing wallet..."]}),Object(X.jsx)(Ue.a,{className:o.Stepper,activeStep:x,alternativeLabel:!0,children:r.map((function(e){return Object(X.jsx)(Ge.a,{children:Object(X.jsx)(_e.a,{children:e})},e)}))}),Object(X.jsx)("div",{className:o.Form,children:Object(X.jsxs)(Le.a,{object:!0,name:"addNewCoinForm",children:[Object(X.jsxs)(Le.d,{children:[0===x&&Object(X.jsx)(gt,{onChangeValue:O},x),1===x&&Object(X.jsx)(yt,{coinName:t},x)]}),Object(X.jsxs)("div",{className:o.Buttons,children:[Object(X.jsx)(U.a,{disabled:0===x,onClick:function(e){var t,a;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),null===e||void 0===e||null===(a=e.stopPropagation)||void 0===a||a.call(e),x>=0&&m(x-1)},className:o.backButtonForm,children:"Back"}),Object(X.jsx)(Xe,{variant:"contained",color:"primary",onClick:y,startIcon:w,children:N?"Add":"Next"})]})]})})]})})}var Tt=Object(u.a)((function(e){return{FormWrapper:{width:"100%",height:"100%",top:"0",left:"0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",position:"absolute",background:"white",zIndex:2},Form:{display:"flex",flexDirection:"column",height:"33%",width:"100%",maxWidth:"50%",justifyContent:"space-around"},Stepper:{width:"100%",maxWidth:"45%"},backButton:{position:"absolute",zIndex:2,top:"16px",left:"16px"},backButtonForm:{marginRight:e.spacing(4)},Buttons:{display:"flex",justifyContent:"center"}}}));function Bt(e){var t,a=e.options,r=void 0===a?[]:a,o=B().apiServer,c=Rt(),i=Object(n.useState)((function(){return r})),l=Object(s.a)(i,2),d=l[0],u=l[1],p=Object(Le.h)((function(e){return e.coinName})),h=Object(s.a)(p,1)[0],b=Object(n.useState)((function(){return!1})),x=Object(s.a)(b,2),m=x[0],f=x[1],v=function(){return f((function(e){return!e}))},O=_("".concat(o,"/api/v1/coins?coinName=").concat(encodeURIComponent(h))),g=O.loading,N=O.data;Y(O.error),Object(n.useEffect)((function(){N&&200===N.statusCode&&u(N.results.map((function(e){var t=e.address,a=e.walletName;return{value:a,label:"".concat(a,":").concat(t)}})))}),[N]);var y=g||null===g,w=(null===N||void 0===N||null===(t=N.results)||void 0===t?void 0:t.length)<=0;return console.log("showWalletForm ",m),Object(X.jsxs)(X.Fragment,{children:[!w&&Object(X.jsx)(Le.d,{children:Object(X.jsx)(at,{placeholder:"Select a wallet for: ".concat(h),isDisabled:y,isLoading:y,options:d,name:"walletName",validators:[It]})}),w&&Object(X.jsxs)("div",{className:c.NoWallets,children:[Object(X.jsxs)(j.a,{color:"textSecondary",gutterBottom:!0,children:["None of your wallets contains the coin: ",Object(X.jsx)("b",{children:h})]}),Object(X.jsxs)(U.a,{size:"small",variant:"contained",disableElevation:!0,color:"primary",startIcon:Object(X.jsx)(ne.a,{}),onClick:v,children:["Add ",h," to a Wallet"]})]}),m&&Object(X.jsx)(Wt,{toggleWalletForm:v,coinName:h})]})}var It=function(e){return"string"===typeof e?void 0:"required"},Rt=Object(u.a)((function(){return{NoWallets:{width:"100%",height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",position:"relative"}}}));function Ht(e){var t=e.options,a=void 0===t?[]:t,r=e.modeTarget,o=e.onChangeValue,c=B().apiServer,i=Object(n.useState)((function(){return a})),l=Object(s.a)(i,2),d=l[0],u=l[1],j=Object(Le.h)((function(e){return e.poolConfig.algo})),p=Object(s.a)(j,1)[0],h=_("".concat(c,"/api/v1/miners/_installed?algo=").concat(p)),b=h.loading,x=h.data;Y(h.error);Object(n.useEffect)((function(){x&&200===x.statusCode&&u(x.results.filter((function(e){return e.minerMode.toLowerCase()===r.toLowerCase()})).map((function(e){var t=e.minerName,a=e.assetId,n=e.tagName;return{value:{minerName:t,minerAssetId:a,minerTagName:n,supportGPUsRegex:e.supportGPUsRegex},label:"".concat(t,": ").concat(n)}})))}),[x]);var m=b||null===b;return Object(X.jsx)(at,{placeholder:"Select a miner tool...",isDisabled:m,isLoading:m,options:d,matchValue:function(e,t){return e.find((function(e){var a=e.value;return(null===a||void 0===a?void 0:a.minerAssetId)===(null===t||void 0===t?void 0:t.minerAssetId)}))},onChangeValue:o,name:"minerInfo",validators:[Pt]})}var Pt=function(e){return e&&"number"===typeof e.minerAssetId?void 0:"required"};function Dt(e){var t=e.options,a=void 0===t?[]:t,r=B().apiServer,o=Object(n.useState)((function(){return a})),c=Object(s.a)(o,2),i=c[0],l=c[1],d=Object(Le.h)((function(e){return e.miner.minerInfo.supportGPUsRegex})),u=Object(s.a)(d,1)[0];console.log("supportGPUsRegex ",u);var j=_("".concat(r,"/api/v1/gpus?processor=").concat(u)),p=j.loading,h=j.data;Y(j.error),Object(n.useEffect)((function(){h&&200===h.statusCode&&l(h.results.map((function(e){var t=e.name,a=e.id;return{value:a,label:"".concat(t," - id(").concat(a,")")}})))}),[h]);var b=p||null===p;return Object(X.jsx)(at,{matchValue:function(e,t){return null===t||void 0===t?void 0:t.split(",").map((function(t){return e.find((function(e){var a=e.value;return Number(t)===Number(a)}))}))},reduceValue:function(e){return e.map((function(e){var t=e.value;return Number(t)})).sort().join(",")},placeholder:"Select gpus...",isMulti:!0,isDisabled:b,isLoading:b,options:i,name:"gpus",validators:[Et]})}var Et=function(e){return"string"===typeof e&&/^(-1)$|^\d+(,\d+)*$/.test(e)?void 0:"required"};function At(e){var t=e.modeTarget,a=["Version","GPUs"],r=Object(n.useState)((function(){return 0})),o=Object(s.a)(r,2),c=o[0],i=o[1],l=Mt(),d=function(){return i((function(e){return++e}))},u=function(e){var t=e.currentTarget;t.classList.contains("MuiStep-completed")&&i(Number(t.dataset.index))};return Object(X.jsxs)("div",{children:[Object(X.jsx)(Ue.a,{className:l.Stepper,activeStep:c,children:a.map((function(e,t){return Object(X.jsx)(Ge.a,{"data-index":t,onClick:u,children:Object(X.jsx)(_e.a,{children:e})},e)}))}),Object(X.jsxs)(jt,{activeStep:c,prev:function(){return i((function(e){return--e}))},next:d,evaluatePrev:zt,evaluateNext:Lt,children:[0===c&&Object(X.jsx)(Ht,{onChangeValue:d,modeTarget:t},"0"),1===c&&Object(X.jsx)(Dt,{},"1")]})]})}var Mt=Object(u.a)((function(){return{Stepper:{paddingTop:0}}}));function Lt(e,t){var a;return 0===t&&(null===(a=e.miner)||void 0===a?void 0:a.minerInfo)}function zt(e,t){return t>0}function Ft(e){var t=e.modeTarget;return Object(X.jsxs)("div",{children:[Object(X.jsx)(Le.c,{type:"hidden",name:"gpus",value:"-1"}),Object(X.jsx)(Ht,{modeTarget:t})]})}function Ut(){var e=Object(Le.h)((function(e){return e.minerMode})),t=Object(s.a)(e,1)[0];return Object(X.jsx)("div",{children:Object(X.jsx)(Le.a,{object:!0,name:"miner",validators:[Gt],children:Object(X.jsxs)(Le.d,{children:["gpu"===t&&Object(X.jsx)(At,{modeTarget:t},"gpu"),"cpu"===t&&Object(X.jsx)(Ft,{modeTarget:t},"cpu")]})})})}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).every((function(t){return"undefined"!==typeof e[t]}))?void 0:"error"}function _t(e){var t=e.activeStep,a=Object(Le.f)({type:"custom",name:"activeStep",value:t}),r=a.value,o=a.setValue;return Object(n.useEffect)((function(){t!==r&&o(t)}),[t,r]),null}var Vt=["activeStep","minerMode","poolConfig","miner"];function Xt(){var e=Object(Le.g)().state,t=qt(),a=(e.activeStep,e.minerMode),n=e.poolConfig,r=e.miner,o=Object(Me.a)(e,Vt),c=r.minerInfo,s=r.gpus,l="gpu"===a?Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},o),n),c),{},{gpus:s}):Object(i.a)(Object(i.a)(Object(i.a)({},o),n),c);return Object(X.jsx)("div",{className:t.Summary,children:Object.keys(Yt).filter((function(e){return l[e]})).map((function(e){return Object(X.jsxs)("div",{className:t.Tag,children:[Object(X.jsx)("span",{className:t.TagTitle,children:"".concat(Yt[e])}),":",Object(X.jsx)("span",{className:t.Tagspan,children:"".concat(l[e])})]},e)}))})}var qt=Object(u.a)({Summary:{flex:1,flexWrap:"wrap",alignItems:"center",display:"flex",justifyContent:"center"},Tag:{padding:"6px 14px",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",background:"#ededed",margin:"4px"},Tagspan:{marginLeft:"4px",textDecoration:"underline",fontWeight:"bold",fontSize:"18px"},TagTitle:{textTransform:"uppercase"}}),Yt={workerName:"Worker Name",walletName:"Wallet",coinName:"Coin",poolName:"Pool Name",poolRegion:"Pool Region",poolPort:"Pool Port",minerName:"Miner",gpus:"Gpus",algo:"Algorithm"},$t=a(457),Jt=a(462),Zt=a(448);function Kt(){var e=ea(),t=B().apiServer,a=Object(Le.f)({name:"minerMode",type:"custom",validators:[Qt]}),n=a.value,r=a.setValue,o=_("".concat(t,"/api/v1/miners/_installed")),c=o.loading,i=o.data;if(c||null===c)return Object(X.jsx)("div",{className:e.loadingBar,children:Object(X.jsx)(T.a,{})});var s=((null===i||void 0===i?void 0:i.results)||[]).map((function(e){return e.minerMode})).map((function(e){return e.toLowerCase()}));if(!s.includes("gpu"))return Object(X.jsxs)("div",{className:e.ModePickerWrapper,children:[Object(X.jsx)(Jt.a,{row:!0,"aria-label":"minerMode",name:"minerMode",value:"cpu",children:Object(X.jsx)(Zt.a,{value:"cpu",control:Object(X.jsx)($t.a,{inputProps:{"aria-label":"CPU"}}),label:"CPU mode"})}),Object(X.jsx)(j.a,{className:e.textSecondary,color:"textSecondary",children:"You have installed miners which support CPU only."}),Object(X.jsxs)(j.a,{color:"textSecondary",children:["If you want to mine using GPU please install a miner that supports GPU. ",Object(X.jsx)(C.b,{to:"/miners",children:"Click here"})]}),Object(X.jsx)(Le.c,{type:"hidden",name:"minerMode",value:"cpu"})]});if(!s.includes("cpu"))return Object(X.jsxs)("div",{className:e.ModePickerWrapper,children:[Object(X.jsx)(Jt.a,{row:!0,"aria-label":"minerMode",name:"minerMode",value:"gpu",children:Object(X.jsx)(Zt.a,{value:"gpu",control:Object(X.jsx)($t.a,{inputProps:{"aria-label":"GPU"}}),label:"GPU mode"})}),Object(X.jsx)(j.a,{className:e.textSecondary,color:"textSecondary",children:"You have installed miners which support GPU only."}),Object(X.jsxs)(j.a,{color:"textSecondary",children:["If you want to mine using CPU please install a miner that supports CPU. ",Object(X.jsx)(C.b,{to:"/miners",children:"Click here"})]}),Object(X.jsx)(Le.c,{type:"hidden",name:"minerMode",value:"gpu"})]});return Object(X.jsx)("div",{className:e.ModePickerWrapper,children:Object(X.jsxs)(Jt.a,{row:!0,"aria-label":"minerMode",name:"minerMode",value:n||null,onChange:function(e){return r(e.target.value)},children:[Object(X.jsx)(Zt.a,{value:"gpu",control:Object(X.jsx)($t.a,{name:"miner-picker-mode",inputProps:{"aria-label":"GPU"}}),label:"GPU mode"}),Object(X.jsx)(Zt.a,{value:"cpu",control:Object(X.jsx)($t.a,{name:"miner-picker-mode",inputProps:{"aria-label":"CPU"}}),label:"CPU mode"})]})})}var Qt=function(e){return"string"===typeof e?void 0:"required"},ea=Object(u.a)({ModePickerWrapper:{flex:1,flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center"},loadingBar:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},textSecondary:{marginTop:"24px"}}),ta=["activeStep","poolConfig","miner"],aa=["supportGPUsRegex"],na=["minerInfo"],ra=Be;function oa(){var e=sa(),t=Object(k.f)(),a=Object(n.useState)(0),r=Object(s.a)(a,2),o=r[0],c=r[1],l=B(),d=l.bus,u=l.apiServer,p=_("".concat(u,"/api/v1/miners/_installed")),x=p.loading,m=p.error,f=_("".concat(u,"/api/v1/wallets")),v=f.loading,O=f.error;if(Object(n.useEffect)((function(){var e=function(){return c((function(e){return++e}))};return d.on("GO_NEXT",e),function(){d.off("GO_NEXT",e)}}),[]),v||null===v||x||null===x)return Object(X.jsx)("div",{className:e.loadingBar,children:Object(X.jsx)(T.a,{})});if(404===(null===m||void 0===m?void 0:m.statusCode))return Object(X.jsxs)("div",{className:e.ErrorWrapper,children:[Object(X.jsx)(j.a,{variant:"h4",children:m.message}),Object(X.jsx)(U.a,{size:"large",variant:"contained",color:"primary",startIcon:Object(X.jsx)(ne.a,{}),disableElevation:!0,onClick:function(){return t.push("/miners")},children:"Install Miners"}),Object(X.jsx)(j.a,{className:e.textSecondary,color:"textSecondary",children:"Please install a miner software!"})]});if(404===(null===O||void 0===O?void 0:O.statusCode))return Object(X.jsxs)("div",{className:e.ErrorWrapper,children:[Object(X.jsx)(j.a,{variant:"h4",children:O.message}),Object(X.jsx)(U.a,{size:"large",variant:"contained",color:"primary",startIcon:Object(X.jsx)(ne.a,{}),disableElevation:!0,onClick:function(){return t.push("/wallets/add-wallet")},children:"Add a new Wallet"}),Object(X.jsx)(j.a,{className:e.textSecondary,color:"textSecondary",children:"You do not have any wallet yet! Please add a wallet!"})]});var g=function(){t.push("/workers")},N=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,n,r,o,c,s,l,j,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSubmit ",t),t.activeStep,a=t.poolConfig,n=t.miner,r=Object(Me.a)(t,ta),o=n.minerInfo,o.supportGPUsRegex,c=Object(Me.a)(o,aa),s=Object(Me.a)(n,na),l=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},r),a),c),s),j="".concat(u,"/api/v1/workers"),p=H(I(j,{method:"POST",body:l})),d.emit(ra,{promise:p,label:"Creating ".concat(t.workerName,"...")}),e.next=9,p;case 9:setTimeout(g,100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)("div",{className:"FormWorker",children:[Object(X.jsx)("div",{className:"FormWorker_Nav",children:Object(X.jsx)(U.a,{size:"small",variant:"contained",startIcon:Object(X.jsx)(Fe.a,{}),disableElevation:!0,onClick:g,children:"Back"})}),Object(X.jsxs)("div",{className:"FormWorker_Wrapper",children:[Object(X.jsxs)(Le.b,{reducers:ia,onChange:function(e){return console.log("onChange ",e)},onSubmit:N,children:[Object(X.jsx)(_t,{activeStep:o}),Object(X.jsx)(Ye,{activeStep:o,onChangeStep:function(e){return c(e)},children:ca(o)})]}),Object(X.jsx)("div",{id:"FormWorkerPortal"})]})]})}function ca(e){switch(e){case 0:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(Ke,{},e)});case 1:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(Kt,{},e)});case 2:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(ht,{},e)});case 3:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(vt,{},e)});case 4:return Object(X.jsx)(Bt,{},e);case 5:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(Ut,{},e)});case 6:return Object(X.jsx)(Xt,{},e)}}function ia(e,t){var a,n,r,o,c=e;if(void 0!==c.addNewCoinForm&&c.addNewCoinForm.walletName)return Object(i.a)(Object(i.a)({},e),{},{walletName:c.addNewCoinForm.walletName});if((null===(a=c.poolConfig)||void 0===a?void 0:a.poolName)&&(null===(n=t.poolConfig)||void 0===n?void 0:n.poolName)&&(null===(r=t.poolConfig)||void 0===r?void 0:r.poolName)!==(null===(o=c.poolConfig)||void 0===o?void 0:o.poolName)){var s=c.workerName,l=c.minerMode;return{workerName:s,poolConfig:{poolName:c.poolConfig.poolName},minerMode:l}}return c.minerMode&&t.minerMode&&t.minerMode!==c.minerMode?{workerName:c.workerName,minerMode:c.minerMode}:c.coinName&&t.coinName&&t.coinName!==c.coinName?{workerName:c.workerName,coinName:c.coinName,poolConfig:c.poolConfig,minerMode:c.minerMode}:c}var sa=Object(u.a)((function(){return{ErrorWrapper:{width:"100%",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center","& > button":{marginTop:"24px"}},loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},textSecondary:{marginTop:"24px"}}})),la=Object(u.a)((function(){return{loadingBar:{width:"100%",display:"flex",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"},label:{marginBottom:"32px"}}}));function da(e){var t=la();return Object(X.jsxs)("div",{className:t.loadingBar,children:[e.label&&Object(X.jsx)(j.a,{className:t.label,color:"textSecondary",gutterBottom:!0,children:e.label}),Object(X.jsx)(T.a,Object(i.a)({},e))]})}var ua=["activeStep","poolConfig","miner"],ja=["supportGPUsRegex"],pa=["minerInfo"],ha=Be;function ba(){var e=Object(k.f)(),t=Object(k.h)().workerId,a=Object(n.useState)(0),r=Object(s.a)(a,2),o=r[0],c=r[1],l=B(),d=l.bus,u=l.apiServer,j=_("".concat(u,"/api/v1/workers/").concat(t)),p=j.data,x=j.loading;if(Y(j.error),Object(n.useEffect)((function(){var e=function(){return c((function(e){return++e}))};return d.on("GO_NEXT",e),function(){d.off("GO_NEXT",e)}}),[]),x||null===x)return Object(X.jsx)(da,{size:60,label:"Loading worker info in progress..."});var m=function(){return e.push("/workers")},f=function(){var e=Object(b.a)(h.a.mark((function e(a){var n,r,o,c,s,l,j,p,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSubmit ",a),a.activeStep,n=a.poolConfig,r=a.miner,o=Object(Me.a)(a,ua),c=r.minerInfo,c.supportGPUsRegex,s=Object(Me.a)(c,ja),l=Object(Me.a)(r,pa),j=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},o),n),s),l),p="".concat(u,"/api/v1/workers/").concat(t),b=H(I(p,{method:"PUT",body:j})),d.emit(ha,{promise:b,label:"Saving changes for ".concat(a.workerName,"...")}),e.next=9,b;case 9:setTimeout(m,100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.workerName,a=e.walletName,n=e.poolRegion,r=e.poolName,o=e.poolPort,c=e.minerMode,i=e.gpus,s=e.algo,l=e.coinName,d=e.minerName,u=e.minerTagName,j=e.minerAssetId,p=e.supportGPUsRegex,h={minerName:d,minerAssetId:j,minerTagName:u,supportGPUsRegex:p};return{workerName:t,walletName:a,poolConfig:{poolRegion:n,poolName:r,poolPort:String(o),algo:s},minerMode:c,coinName:l,miner:{minerInfo:h,gpus:i}}}(p.results);return Object(X.jsxs)("div",{className:"FormWorker",children:[Object(X.jsx)("div",{className:"FormWorker_Nav",children:Object(X.jsx)(U.a,{size:"small",variant:"contained",startIcon:Object(X.jsx)(Fe.a,{}),disableElevation:!0,onClick:m,children:"Back"})}),Object(X.jsxs)("div",{className:"FormWorker_Wrapper",children:[Object(X.jsxs)(Le.b,{initialState:v,reducers:ma,onChange:function(e){return console.log("onChange ",e)},onSubmit:f,children:[Object(X.jsx)(_t,{activeStep:o}),Object(X.jsx)(Ye,{activeStep:o,onChangeStep:function(e){return c(e)},children:xa(o)})]}),Object(X.jsx)("div",{id:"FormWorkerPortal"})]})]})}function xa(e){switch(e){case 0:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(Ke,{})},e);case 1:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(Kt,{})},e);case 2:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(ht,{})},e);case 3:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(vt,{})},e);case 4:return Object(X.jsx)(Bt,{},e);case 5:return Object(X.jsx)(Le.d,{children:Object(X.jsx)(Ut,{})},e);case 6:return Object(X.jsx)(Xt,{},e)}}function ma(e,t){var a,n,r,o,c=e;if(void 0!==c.addNewCoinForm&&c.addNewCoinForm.walletName)return Object(i.a)(Object(i.a)({},e),{},{walletName:c.addNewCoinForm.walletName});if((null===(a=c.poolConfig)||void 0===a?void 0:a.poolName)&&(null===(n=t.poolConfig)||void 0===n?void 0:n.poolName)&&(null===(r=t.poolConfig)||void 0===r?void 0:r.poolName)!==(null===(o=c.poolConfig)||void 0===o?void 0:o.poolName)){var s=c.workerName,l=c.minerMode;return{workerName:s,poolConfig:{poolName:c.poolConfig.poolName},minerMode:l}}return c.minerMode&&t.minerMode&&t.minerMode!==c.minerMode?{workerName:c.workerName,minerMode:c.minerMode}:c.coinName&&t.coinName&&t.coinName!==c.coinName?{workerName:c.workerName,coinName:c.coinName,poolConfig:c.poolConfig,minerMode:c.minerMode}:c}var fa=a(209),va=a.n(fa),Oa=a(208),ga=a.n(Oa),Na=a(205),ya=a.n(Na),wa=a(391),Sa=a(125),Ca=a.n(Sa),ka=function(e){var t=e.worker,a=e.meta,n=Wa(),r=t.coinName,o=t.address,c=a.statsUrl,i="./icons/".concat(r,".png"),s=o.split("."),l=s.length>1?s.map((function(e){return"".concat(e.slice(0,10),"...").concat(e.slice(-10))})).join("."):o;return Object(X.jsx)("div",{className:n.root,children:Object(X.jsxs)("div",{className:n.Wrapper,children:[Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsx)("img",{src:i,alt:r,className:n.coinSrc}),Object(X.jsxs)(j.a,{variant:"h6",component:"h6",className:n.infoBar,children:[r,":",l]}),Object(X.jsx)(wa.a,{title:"Copy Address",className:n.CopyButton,size:"small",onClick:function(){return navigator.clipboard.writeText(o)},"aria-label":"copy address",children:Object(X.jsx)(Ca.a,{})})]}),Object(X.jsx)(U.a,{size:"small",color:"primary",variant:"contained",title:"Pool Settings",onClick:function(){return window.open(c,"_blank")},startIcon:Object(X.jsx)(ya.a,{}),children:"Settings"})]})})},Wa=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",alignItems:"center",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",justifyContent:"space-between"},CopyButton:{marginLeft:"16px",padding:"4px"},coinSrc:{width:"32px",height:"auto"},infoBarWrapper:{display:"flex",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},infoBar:{textTransform:"uppercase",marginLeft:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}});var Ta=function(e){var t=e.worker,a=e.onClose,r=Ba(),o=Object(n.useState)((function(){return""})),c=Object(s.a)(o,2),i=c[0],l=c[1],d=t.workerName,u=Object(n.useRef)();return Object(n.useEffect)((function(){var e=window.electron.on("log_".concat(d),(function(e){l((function(t){return t+"<p>".concat(e,"</p>")})),u.current.scrollTop=u.current.scrollHeight}));return function(){e()}}),[]),Object(X.jsxs)("div",{className:r.root,children:[Object(X.jsx)("div",{className:r.NavBar,children:Object(X.jsx)(U.a,{size:"small",variant:"contained",startIcon:Object(X.jsx)(Fe.a,{}),disableElevation:!0,onClick:a,children:"Back"})}),Object(X.jsx)("div",{className:r.LogsWrapper,children:Object(X.jsx)("div",{ref:u,className:r.Wrapper,dangerouslySetInnerHTML:{__html:i||"Loading logs..."}})})]})},Ba=Object(u.a)({root:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",flexDirection:"column"},NavBar:{width:"100%",display:"flex",padding:"16px 8px"},LogsWrapper:{overflow:"hidden",display:"flex",justifyContent:"center",width:"100%",padding:"0 8px 8px 8px",flex:1},Wrapper:{fontFamily:"monospace",width:"100%",height:"100%",borderRadius:"5px",padding:"16px",backgroundColor:"black",color:"white",overflow:"auto","& p":{padding:0,margin:0},"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}}}),Ia=function(e){var t=e.session,a=Ra(),n=t.uptime,r=t.activeGPUs,o=t.totalPower,c=t.performance,i=t.performanceUnit;return Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)("div",{className:a.Wrapper,children:Object(X.jsxs)("div",{className:a.infoBarWrapper,children:[Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[c," ",i]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[o," W"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Power"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:r}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"GPUs"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:Ha(n)}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},Ra=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column"},infoBarWrapper:{display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}}});function Ha(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",o=a>0?a+"m":"",c=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(o):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(o,", ").concat(c):"".concat(a>0&&0===n?o:c)}var Pa=function(e){var t=e.gpus,a=Da();return t?Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)(L.a,{className:a.table,children:Object(X.jsxs)(E.a,{"aria-label":"miner details",children:[Object(X.jsx)(z.a,{children:Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{className:a.TableHead,children:"Id"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"GPU Model"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"MH/S"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Power"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Temp"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Fan Speed"})]})}),Object(X.jsx)(A.a,{children:t.map((function(e){var t=e.idGpu,a=e.name,n=e.performance,r=e.power,o=e.fanSpeed,c=e.temp;return Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{component:"th",scope:"row",children:t}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:a}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:n}),Object(X.jsxs)(M.a,{component:"th",children:[r," W"]}),Object(X.jsxs)(M.a,{component:"th",children:[c," \xb0C"]}),Object(X.jsxs)(M.a,{component:"th",children:[o," %"]})]},t)}))})]})})}):null},Da=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),Ea=function(){var e=Aa();return Object(X.jsx)("div",{className:e.Box,children:Object(X.jsx)("div",{className:e.BoxBorder,children:Object(X.jsx)("div",{className:e.loadingBar,children:Object(X.jsx)(T.a,{})})})})},Aa=Object(u.a)({loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},BoxBorder:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",justifyContent:"center",alignItems:"center"},Box:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"}}),Ma=function(e){var t=e.children,a=La();return Object(X.jsx)("div",{className:a.Box,children:Object(X.jsx)("div",{className:a.BoxBorder,children:Object(X.jsx)(j.a,{variant:"h5",component:"h5",children:t})})})},La=Object(u.a)({BoxBorder:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",justifyContent:"center",alignItems:"center"},Box:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"}}),za=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),Fa=function(e){var t=e.session,a=Ua(),n=t.uptime,r=t.validShares,o=t.totalShares,c=t.performance,i=t.performanceUnit;return Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)("div",{className:a.Wrapper,children:Object(X.jsxs)("div",{className:a.infoBarWrapper,children:[Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[c," ",i]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:r}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:o}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Shares"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:Ga(n)}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},Ua=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column"},infoBarWrapper:{display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}}});function Ga(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",o=a>0?a+"m":"",c=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(o):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(o,", ").concat(c):"".concat(a>0&&0===n?o:c)}var _a=function(e){var t=e.cpus,a=Va();return t?Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)(L.a,{className:a.table,children:Object(X.jsxs)(E.a,{"aria-label":"miner details",children:[Object(X.jsx)(z.a,{children:Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{className:a.TableHead,children:"CPU Model"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Current H/S"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Best H/S"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Cores"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Threads"})]})}),Object(X.jsx)(A.a,{children:t.map((function(e){var t=e.name,a=e.cores,n=e.threads,r=e.performance,o=e.performanceHighest;return Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{component:"th",scope:"row",children:t}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:r}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:o}),Object(X.jsx)(M.a,{component:"th",children:a}),Object(X.jsx)(M.a,{component:"th",children:n})]},t)}))})]})})}):null},Va=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),Xa=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),qa=function(e){var t=e.session,a=Ya(),n=t.uptime,r=t.activeGPUs,o=t.totalPower,c=t.performance,i=t.performanceUnit;return Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)("div",{className:a.Wrapper,children:Object(X.jsxs)("div",{className:a.infoBarWrapper,children:[Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[D(c)," ",i]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[o," W"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Power"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:r}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"GPUs"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:$a(n)}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},Ya=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column"},infoBarWrapper:{display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder"}}});function $a(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",o=a>0?a+"m":"",c=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(o):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(o,", ").concat(c):"".concat(a>0&&0===n?o:c)}var Ja=function(e){var t=e.gpus,a=Za();return t?Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)(L.a,{className:a.table,children:Object(X.jsxs)(E.a,{"aria-label":"miner details",children:[Object(X.jsx)(z.a,{children:Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{className:a.TableHead,children:"Id"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"GPU Model"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"MH/S"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Power"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Temp"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Fan Speed"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Gpu Errors"})]})}),Object(X.jsx)(A.a,{children:t.map((function(e){var t=e.idGpu,a=e.name,n=e.performance,r=e.power,o=e.fanSpeed,c=e.temp,i=e.restartCounter;return Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{component:"th",scope:"row",children:t}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:a}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:D(n)}),Object(X.jsxs)(M.a,{component:"th",children:[r," W"]}),Object(X.jsxs)(M.a,{component:"th",children:[c," \xb0C"]}),Object(X.jsxs)(M.a,{component:"th",children:[o," %"]}),Object(X.jsx)(M.a,{component:"th",children:i})]},t)}))})]})})}):null},Za=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),Ka=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),Qa=function(e){var t=e.session,a=en(),n=t.uptime,r=t.activeGPUs,o=t.totalPower,c=t.performance,i=t.performanceUnit;return Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)("div",{className:a.Wrapper,children:Object(X.jsxs)("div",{className:a.infoBarWrapper,children:[Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[c," ",i]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Hashrate"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[D(o)," W"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Total Power"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:r}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"GPUs"})]}),Object(X.jsxs)("div",{className:a.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:tn(n)}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Uptime"})]})]})})})},en=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flexDirection:"column"},infoBarWrapper:{display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}}});function tn(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60),r=t>0?t+"h":"",o=a>0?a+"m":"",c=n>0?n+"s":"";return t>0&&a>0?"".concat(r,", ").concat(o):t>0&&0===a?"".concat(r):a>0&&n>0?"".concat(o,", ").concat(c):"".concat(a>0&&0===n?o:c)}var an=function(e){var t=e.gpus,a=nn();return t?Object(X.jsx)("div",{className:a.root,children:Object(X.jsx)(L.a,{className:a.table,children:Object(X.jsxs)(E.a,{"aria-label":"miner details",children:[Object(X.jsx)(z.a,{children:Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{className:a.TableHead,children:"GPU Id"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Shares Accepted"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Shares Rejected"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"MH/S"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Power"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Temp"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Fan Speed"}),Object(X.jsx)(M.a,{className:a.TableHead,children:"Gpu Errors"})]})}),Object(X.jsx)(A.a,{children:t.map((function(e){var t=e.idGpu,a=e.accepted,n=e.rejected,r=e.performance,o=e.power,c=e.fanSpeed,i=e.temp,s=e.restartCounter;return Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{component:"th",scope:"row",children:t}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:a}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:n}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:D(r)}),Object(X.jsxs)(M.a,{component:"th",children:[D(o)," W"]}),Object(X.jsxs)(M.a,{component:"th",children:[i," \xb0C"]}),Object(X.jsxs)(M.a,{component:"th",children:[c," %"]}),Object(X.jsx)(M.a,{component:"th",children:s})]},t)}))})]})})}):null},nn=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}}),rn=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),on={lolminer:function(e){var t=e.worker,a=e.meta,n=za(),r=B().apiServer,o=_("".concat(r,"/api/v1/workers/").concat(t.id,"/_stats")),c=o.data,i=o.loading,s=o.error;if(null===i||i)return Object(X.jsx)(Ea,{});if(s)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.minerName})," stats not available yet!"]});console.log(c.results);var l=c.results,d=l.gpus,u=l.session;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(Ia,{worker:t,meta:a,session:u}),Object(X.jsx)(Pa,{gpus:d})]})},xmrig:function(e){var t=e.worker,a=e.meta;console.log("XmrigXmrigXmrigXmrigXmrigXmrigXmrigXmrig");var n=Xa(),r=B().apiServer,o=_("".concat(r,"/api/v1/workers/").concat(t.id,"/_stats")),c=o.data,i=o.loading,s=o.error;if(null===i||i)return Object(X.jsx)(Ea,{});if(s)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.minerName})," stats not available yet!"]});console.log(c.results);var l=c.results,d=l.cpus,u=l.session;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(Fa,{worker:t,meta:a,session:u}),Object(X.jsx)(_a,{cpus:d})]})},trex:function(e){var t=e.worker,a=e.meta,n=Ka(),r=B().apiServer,o=_("".concat(r,"/api/v1/workers/").concat(t.id,"/_stats")),c=o.data,i=o.loading,s=o.error;if(null===i||i)return Object(X.jsx)(Ea,{});if(s)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.minerName})," stats not available yet!"]});console.log(c.results);var l=c.results,d=l.gpus,u=l.session;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(qa,{worker:t,meta:a,session:u}),Object(X.jsx)(Ja,{gpus:d})]})},teamredminer:function(e){var t=e.worker,a=e.meta,n=rn(),r=B().apiServer,o=_("".concat(r,"/api/v1/workers/").concat(t.id,"/_stats")),c=o.data,i=o.loading,s=o.error;if(null===i||i)return Object(X.jsx)(Ea,{});if(s)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.minerName})," stats not available yet!"]});console.log(c.results);var l=c.results,d=l.gpus,u=l.session;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(Qa,{worker:t,meta:a,session:u}),Object(X.jsx)(an,{gpus:d})]})}},cn=1e6,sn=function(e){var t=e.worker,a=e.hashrate;console.log(t);var n=ln(),r=a||{},o=r.currentEffectiveHashrate,c=void 0===o?0:o,i=r.averageEffectiveHashrate,s=void 0===i?0:i,l=r.validShares,d=void 0===l?0:l,u=r.staleShares,p=void 0===u?0:u,h=r.invalidShares,b=void 0===h?0:h,x=D(c/cn),m=D(s/cn),f=d+b,v=0===f?0:D(100*p/f),O=0===f?0:D(100*b/f),g=0===f?0:100-v-O;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)("div",{className:n.Wrapper,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[x," mh/s"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[m," mh/s"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Average Hashrate"})]})]})}),Object(X.jsx)("div",{className:n.WrapperShares,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[d," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",g,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[p," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",v,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Stale Shares"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[b," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",O,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Invalid Shares"})]})]})})]})},ln=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},WrapperShares:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),dn=(a(101),a(64)),un={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},jn=function(e){var t=e.dataChart,a=[];if((null===t||void 0===t?void 0:t.length)<=0||void 0===(null===t||void 0===t?void 0:t[0])||void 0===t[0].averageEffectiveHashrate||void 0===t[0].effectiveHashrate||void 0===t[0].invalidShares||void 0===t[0].reportedHashrate||void 0===t[0].staleShares||void 0===t[0].validShares)return Object(X.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(X.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(X.jsx)(j.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var n=pn({dataChart:t,key:"effectiveHashrate"},{label:"Effective Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"});n&&a.push(n);var r=pn({dataChart:t,key:"averageEffectiveHashrate"},{label:"Average Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"});r&&a.push(r);var o=pn({dataChart:t,key:"reportedHashrate"},{label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#eab02e",borderColor:"rgba(237,180,49,0.5)"});o&&a.push(o);var c={labels:t.map((function(e){return 1e3*e.timestamp})).reverse(),datasets:a};return Object(X.jsx)("div",{style:{padding:"8px 16px"},children:Object(X.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(X.jsx)(dn.a,{data:c,options:un})})})};function pn(e,t){var a=e.dataChart,n=void 0===a?[]:a,r=e.key,o=n.filter((function(e){return void 0!==e[r]})).map((function(e){return e[r]/1e6})).reverse();return o.length>0?Object(i.a)({data:o},t):null}var hn=function(e){var t=e.worker,a=e.balance,n=bn(),r=a||{},o=r.balance,c=void 0===o?0:o,i=r.balanceCountervalue,s=void 0===i?0:i,l=t.coinName,d=t.walletName,u=t.workerName,p=t.poolName,h=t.minerName,b=t.algo,x=D(c/1e18,6);return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)("div",{className:n.Wrapper,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",title:u,children:Object(X.jsx)("span",{style:{maxWidth:"170px"},className:"text-ellipsis",children:u})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[Object(X.jsx)("span",{className:n.text,children:h})," -"," ",b.toLowerCase()]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(X.jsx)("div",{className:n.WrapperPool,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[x," ",l," "]}),Object(X.jsxs)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," ",Object(X.jsxs)("span",{className:n.ValueDollar,children:["\u2248 $",s]})]})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",className:n.text,children:p}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Pool"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",className:n.text,children:Object(X.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:d})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},bn=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},ValueDollar:{fontSize:"14px"},WrapperPool:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},text:{textTransform:"capitalize"}}),xn=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),mn=function(e){var t=e.worker,a=e.hashrate,n=e.balance,r=t.coinName,o=fn(),c=a||{},i=c.currentEffectiveHashrate,s=void 0===i?0:i,l=c.reportedHashrate,d=void 0===l?0:l,u=c.performanceUnit,p=void 0===u?"-/-":u,h=n||{},b=h.total24h,x=void 0===b?0:b,m=h.referralBalance,f=void 0===m?0:m;return Object(X.jsxs)("div",{className:o.root,children:[Object(X.jsx)("div",{className:o.Wrapper,children:Object(X.jsxs)("div",{className:o.infoBarWrapper,children:[Object(X.jsxs)("div",{className:o.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[s," ",p]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(X.jsxs)("div",{className:o.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[d," ",p]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Reported Hashrate"})]})]})}),Object(X.jsx)("div",{className:o.WrapperShares,children:Object(X.jsxs)("div",{className:o.infoBarWrapper,children:[Object(X.jsxs)("div",{className:o.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[x," ",r]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Past 24h rewards"})]}),Object(X.jsxs)("div",{className:o.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[f," ",r]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Referral balance"})]})]})})]})},fn=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},WrapperShares:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),vn={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},On=function(e){var t,a,n=[],r=e.dataChart||{},o=r.reported,c=void 0===o?{}:o,i=r.calculated,s=void 0===i?{}:i,l=c.timestamps;if((null===l||void 0===l?void 0:l.length)<=0||(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.length)<=0||(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.length)<=0)return Object(X.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(X.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(X.jsx)(j.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var d=function(e){var t=(new Date).getUTCDate();return e.filter((function(e){return new Date(e).getUTCDate()>=t}))}(l),u=s.data.length-d.length,p={data:s.data.slice(u),label:"Effective Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"};p&&n.push(p),u=c.data.length-d.length;var h={data:c.data.slice(u),label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"};h&&n.push(h);var b={labels:d,datasets:n};return Object(X.jsx)("div",{style:{padding:"8px 16px"},children:Object(X.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(X.jsx)(dn.a,{data:b,options:vn})})})};var gn=function(e){var t=e.worker,a=e.balance,n=Nn(),r=(a||{}).balance,o=void 0===r?0:r,c=t.coinName,i=t.walletName,s=t.workerName,l=t.poolName,d=t.minerName,u=t.algo,p=D(o,6);return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)("div",{className:n.Wrapper,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",title:s,children:Object(X.jsx)("span",{style:{maxWidth:"200px"},className:"text-ellipsis",children:s})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[Object(X.jsx)("span",{className:n.text,children:d})," -"," ",u.toLowerCase()]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(X.jsx)("div",{className:n.WrapperPool,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[p," ",c]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Balance"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",className:n.text,children:l}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Pool"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",className:n.text,children:Object(X.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:i})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},Nn=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},ValueDollar:{fontSize:"14px"},WrapperPool:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},text:{textTransform:"capitalize"}}),yn=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),wn=1e6,Sn=function(e){var t=e.worker,a=e.hashrate;console.log(t);var n=Cn(),r=a||{},o=r.current_hashrate,c=void 0===o?0:o,i=r.average_hashrate,s=void 0===i?0:i,l=r.validShares,d=void 0===l?0:l,u=r.staleShares,p=void 0===u?0:u,h=r.invalidShares,b=void 0===h?0:h,x=D(c/wn),m=D(s/wn),f=d+b,v=0===f?0:D(100*p/f),O=0===f?0:D(100*b/f),g=0===f?0:100-v-O;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)("div",{className:n.Wrapper,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[x," mh/s"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[m," mh/s"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Average Hashrate"})]})]})}),Object(X.jsx)("div",{className:n.WrapperShares,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[d," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",g,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[p," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",v,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Stale Shares"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[b," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",O,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Invalid Shares"})]})]})})]})},Cn=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},WrapperShares:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),kn={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},Wn=function(e){var t=e.dataChart,a=[];if((null===t||void 0===t?void 0:t.length)<=0||void 0===(null===t||void 0===t?void 0:t[0])||void 0===t[0].long_average_hashrate||void 0===t[0].short_average_hashrate||void 0===t[0].invalid_shares_count||void 0===t[0].reported_hashrate||void 0===t[0].stale_shares_count||void 0===t[0].accepted_shares_count)return Object(X.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(X.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(X.jsx)(j.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var n=Tn({dataChart:t,key:"short_average_hashrate"},{label:"Current Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"});n&&a.push(n);var r=Tn({dataChart:t,key:"long_average_hashrate"},{label:"Average Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"});r&&a.push(r);var o=Tn({dataChart:t,key:"reported_hashrate"},{label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#eab02e",borderColor:"rgba(237,180,49,0.5)"});o&&a.push(o);var c={labels:t.map((function(e){var t=e.time;return new Date(t).getTime()})),datasets:a};return Object(X.jsx)("div",{style:{padding:"8px 16px"},children:Object(X.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(X.jsx)(dn.a,{data:c,options:kn})})})};function Tn(e,t){var a=e.dataChart,n=void 0===a?[]:a,r=e.key,o=n.filter((function(e){return void 0!==e[r]})).map((function(e){return e[r]/1e6}));return console.log(n,o),o.length>0?Object(i.a)({data:o},t):null}var Bn=function(e){var t,a,n=e.worker,r=e.balance,o=void 0===r?{}:r,c=e.rates,i=void 0===c?{}:c,l=In(),d=n.coinName,u=n.walletName,p=n.workerName,h=n.minerName,b=n.algo,x=d.split("+"),m=Object(s.a)(x,2),f=m[0],v=m[1],O=(null===o||void 0===o?void 0:o[f.toLowerCase()])||0,g=D(O,8),N=(null===o||void 0===o?void 0:o[v.toLowerCase()])||0,y=D(N,8),w=(null===i||void 0===i||null===(t=i[f])||void 0===t?void 0:t.USD)||0,S=D(w*g,2),C=(null===i||void 0===i||null===(a=i[v])||void 0===a?void 0:a.USD)||0,k=D(C*y,2);return Object(X.jsxs)("div",{className:l.root,children:[Object(X.jsx)("div",{className:l.Wrapper,children:Object(X.jsxs)("div",{className:l.infoBarWrapper,children:[Object(X.jsxs)("div",{className:l.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",title:p,children:Object(X.jsx)("span",{style:{maxWidth:"170px"},className:"text-ellipsis",children:p})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(X.jsxs)("div",{className:l.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[Object(X.jsx)("span",{className:l.text,children:h})," -"," ",b.toLowerCase()]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(X.jsx)("div",{className:l.WrapperPool,children:Object(X.jsxs)("div",{className:l.infoBarWrapper,children:[Object(X.jsxs)("div",{className:l.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[g," ",f," "]}),Object(X.jsxs)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," ",Object(X.jsxs)("span",{className:l.ValueDollar,children:["\u2248 $",S]})]})]}),Object(X.jsxs)("div",{className:l.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[y," ",v," "]}),Object(X.jsxs)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," ",Object(X.jsxs)("span",{className:l.ValueDollar,children:["\u2248 $",k]})]})]}),Object(X.jsxs)("div",{className:l.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",className:l.text,children:Object(X.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:u})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},In=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},ValueDollar:{fontSize:"14px"},WrapperPool:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},text:{textTransform:"capitalize"}}),Rn=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),Hn=1e6,Pn=function(e){var t=e.worker,a=e.hashrate;console.log(t);var n=Dn(),r=a||{},o=r.currentHashrate,c=void 0===o?0:o,i=r.averageHashrate,s=void 0===i?0:i,l=r.validShares,d=void 0===l?0:l,u=r.staleShares,p=void 0===u?0:u,h=r.invalidShares,b=void 0===h?0:h,x=D(c/Hn),m=D(s/Hn),f=d+b,v=0===f?0:D(100*p/f),O=0===f?0:D(100*b/f),g=0===f?0:100-v-O;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)("div",{className:n.Wrapper,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[x," mh/s"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Current Hashrate"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[m," mh/s"]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Average Hashrate"})]})]})}),Object(X.jsx)("div",{className:n.WrapperShares,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[d," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",g,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Valid Shares"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[p," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",v,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Stale Shares"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[b," ",Object(X.jsxs)("span",{className:n.infoSecondary,children:["(",O,"%)"]})]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Invalid Shares"})]})]})})]})},Dn=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},WrapperShares:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:1,marginLeft:"16px"},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},infoBar:{fontSize:16,fontWeight:"bolder",display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},infoSecondary:{fontSize:"16px",color:"rgba(0, 0, 0, 0.54)"}}),En=function(e){var t=e.dataChart,a=[];if((null===t||void 0===t?void 0:t.length)<=0||void 0===(null===t||void 0===t?void 0:t[0])||void 0===t[0].averageHashrate||void 0===t[0].currentHashrate||void 0===t[0].invalidShares||void 0===t[0].reportedHashrate||void 0===t[0].staleShares||void 0===t[0].validShares)return Object(X.jsx)("div",{style:{padding:"8px 16px",width:"100%",height:"100%"},children:Object(X.jsxs)("div",{style:{width:"100%",padding:"16px",border:"1px solid #e8eff7",borderRadius:"5px",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(X.jsx)(j.a,{variant:"h4",component:"h4",children:"Chart data not available yet!"}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",children:"Try again after some minutes!"})]})});var n=An({dataChart:t,key:"currentHashrate"},{label:"Crrent Hashrate",fill:!1,lineTension:.4,backgroundColor:"#3f51b5",borderColor:"rgba(63, 81, 181, 0.5)"});n&&a.push(n);var r=An({dataChart:t,key:"averageHashrate"},{label:"Average Hashrate",fill:!1,lineTension:.4,backgroundColor:"#15cd72",borderColor:"rgba(21,205,114,0.5)"});r&&a.push(r);var o=An({dataChart:t,key:"reportedHashrate"},{label:"Reported Hashrate",fill:!1,lineTension:.4,backgroundColor:"#eab02e",borderColor:"rgba(237,180,49,0.5)"});o&&a.push(o);var c={labels:t.map((function(e){return 1e3*e.time})),datasets:a};return Object(X.jsx)("div",{style:{padding:"8px 16px"},children:Object(X.jsx)("div",{style:{height:"300px",padding:"24px",border:"1px solid #e8eff7",borderRadius:"5px"},children:Object(X.jsx)(dn.a,{data:c,options:Mn})})})};function An(e,t){var a=e.dataChart,n=void 0===a?[]:a,r=e.key,o=n.filter((function(e){return void 0!==e[r]})).map((function(e){return e[r]/1e6}));return o.length>0?Object(i.a)({data:o},t):null}var Mn={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm",minute:"HH:mm",second:"HH:mm",millisecond:"HH:mm"},tooltipFormat:"ll HH:mm:ss"},scaleLabel:{display:!0,labelString:"Date"}}},plugins:{legend:{position:"bottom"}}},Ln=function(e){var t=e.worker,a=e.balance,n=zn(),r=(a||{}).unpaid,o=void 0===r?0:r,c=t.coinName,i=t.walletName,s=t.workerName,l=t.poolName,d=t.minerName,u=t.algo,p=D(o/1e18,6);return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)("div",{className:n.Wrapper,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",title:s,children:Object(X.jsx)("span",{style:{maxWidth:"170px"},className:"text-ellipsis",children:s})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Worker"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[Object(X.jsx)("span",{className:n.text,children:d})," -"," ",u.toLowerCase()]}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Miner Software"})]})]})}),Object(X.jsx)("div",{className:n.WrapperPool,children:Object(X.jsxs)("div",{className:n.infoBarWrapper,children:[Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsxs)(j.a,{variant:"h6",component:"h6",children:[p," ",c," "]}),Object(X.jsxs)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:["Balance"," "]})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",className:n.text,children:l}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Pool"})]}),Object(X.jsxs)("div",{className:n.infoBox,children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",className:n.text,children:Object(X.jsx)("span",{style:{maxWidth:"130px"},className:"text-ellipsis",children:i})}),Object(X.jsx)(j.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Wallet"})]})]})})]})},zn=Object(u.a)({root:{position:"relative",width:"100%",display:"flex",padding:"8px 16px"},Wrapper:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",flex:.8},ValueDollar:{fontSize:"14px"},WrapperPool:{display:"flex",width:"100%",border:"1px solid #e8eff7",borderRadius:"5px",padding:"16px",marginLeft:"16px",flex:1},infoBarWrapper:{flex:1,display:"flex",justifyContent:"space-between"},infoBox:{display:"flex",flexDirection:"column","& > h6":{fontWeight:"bolder",fontSize:"16px"}},text:{textTransform:"capitalize"}}),Fn=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column"}}),Un={flexpool:function(e){var t=e.worker,a=e.meta,n=xn(),r=B().apiServer,o=t.id,c=t.poolName,i=_("".concat(r,"/api/v1/pools/").concat(c.toLowerCase(),"/stats/").concat(o)),s=i.data,l=i.loading,d=i.error;if(null===l||l)return Object(X.jsx)(Ea,{});if(d)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.poolName})," stats not available yet!"]});console.log(null===s||void 0===s?void 0:s.results);var u=s.results,j=u.hashrate,p=u.chart,h=u.balance;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(hn,{worker:t,balance:h}),Object(X.jsx)(sn,{hashrate:j,worker:t,meta:a,balance:h}),Object(X.jsx)(jn,{dataChart:p,hashrate:j,worker:t})]})},unmineable:function(e){var t=e.worker,a=e.meta,n=yn(),r=B().apiServer,o=t.id,c=t.poolName,i=_("".concat(r,"/api/v1/pools/").concat(c.toLowerCase(),"/stats/").concat(o)),s=i.data,l=i.loading,d=i.error;if(null===l||l)return Object(X.jsx)(Ea,{});if(d)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.poolName})," stats not available yet!"]});console.log(null===s||void 0===s?void 0:s.results);var u=s.results,j=u.hashrate,p=u.chart,h=u.balance;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(gn,{worker:t,balance:h}),Object(X.jsx)(mn,{hashrate:j,worker:t,meta:a,balance:h}),Object(X.jsx)(On,{dataChart:p,hashrate:j,worker:t})]})},ezil:function(e){var t=e.worker,a=e.meta,n=Rn(),r=B().apiServer,o=t.id,c=t.poolName,i=_("".concat(r,"/api/v1/pools/").concat(c.toLowerCase(),"/stats/").concat(o)),s=i.data,l=i.loading,d=i.error;if(null===l||l)return Object(X.jsx)(Ea,{});if(d)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.poolName})," stats not available yet!"]});console.log(null===s||void 0===s?void 0:s.results);var u=s.results,j=u.hashrate,p=u.chart,h=u.balance,b=u.rates;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(Bn,{worker:t,balance:h,rates:b}),Object(X.jsx)(Sn,{hashrate:j,worker:t,meta:a,balance:h}),Object(X.jsx)(Wn,{dataChart:p,hashrate:j,worker:t})]})},ethermine:function(e){var t=e.worker,a=e.meta,n=Fn(),r=B().apiServer,o=t.id,c=t.poolName,i=_("".concat(r,"/api/v1/pools/").concat(c.toLowerCase(),"/stats/").concat(o)),s=i.data,l=i.loading,d=i.error;if(null===l||l)return Object(X.jsx)(Ea,{});if(d)return Object(X.jsxs)(Ma,{children:[Object(X.jsx)("b",{children:t.poolName})," stats not available yet!"]});console.log(null===s||void 0===s?void 0:s.results);var u=s.results,j=u.hashrate,p=u.chart,h=u.balance;return Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(Ln,{worker:t,balance:h}),Object(X.jsx)(Pn,{hashrate:j,worker:t,meta:a,balance:h}),Object(X.jsx)(En,{dataChart:p,hashrate:j,worker:t})]})}},Gn=function(){var e=_n(),t=Object(k.f)(),a=Object(k.h)().workerId,r=Object(n.useState)((function(){return!1})),o=Object(s.a)(r,2),c=o[0],i=o[1],l=B().apiServer,d=_("".concat(l,"/api/v1/workers/").concat(a)),u=d.data,j=d.loading;if(Y(d.error),j||null===j)return Object(X.jsx)("div",{className:e.loadingBar,children:Object(X.jsx)(T.a,{})});var p=function(){return i((function(e){return!e}))},h=u.results,b=u.meta,x=h.minerName,m=h.poolName,f=on[x.toLowerCase()],v=Un[m.toLowerCase()];return console.log(h,x),Object(X.jsxs)("div",{className:e.root,children:[Object(X.jsxs)("div",{className:e.Nav,children:[Object(X.jsx)(U.a,{size:"small",variant:"contained",startIcon:Object(X.jsx)(Fe.a,{}),disableElevation:!0,onClick:function(){t.push("/workers")},children:"Back"}),Object(X.jsxs)("div",{className:e.ActionBtn,children:[Object(X.jsx)(U.a,{size:"small",variant:"contained",onClick:function(){return location.reload()},"aria-label":"refresh",color:"primary",startIcon:Object(X.jsx)(ga.a,{}),children:"Refresh Stats"}),Object(X.jsx)(U.a,{size:"small",variant:"contained","aria-label":"View Logs",startIcon:Object(X.jsx)(va.a,{}),color:"primary",onClick:p,children:"View Logs"})]})]}),Object(X.jsxs)("div",{className:e.WrapperScrollable,children:[Object(X.jsx)(ka,{worker:h,meta:b}),Object(X.jsx)(v,{worker:h,meta:b}),Object(X.jsx)(f,{worker:h,meta:b})]}),c&&Object(X.jsx)(Ta,{worker:h,onClose:p})]})},_n=Object(u.a)({root:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},WrapperScrollable:{width:"100%",height:"100%",overflow:"auto",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},Nav:{padding:"16px",display:"flex",width:"100%",justifyContent:"space-between"},loadingBar:{width:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},ActionBtn:{"& > button:first-child":{marginRight:"8px"}}});function Vn(e){var t=e.match;return Object(X.jsxs)(k.c,{children:[Object(X.jsx)(k.a,{path:"".concat(t.path),component:Ee,exact:!0}),Object(X.jsx)(k.a,{path:"".concat(t.path,"/add-worker"),component:oa,exact:!0}),Object(X.jsx)(k.a,{path:"".concat(t.path,"/edit-worker/:workerId"),component:ba,exact:!0}),Object(X.jsx)(k.a,{path:"".concat(t.path,"/stats/:workerId"),component:Gn,exact:!0})]})}var Xn=a(126),qn=a.n(Xn),Yn=Object(u.a)({NoCoins:{flex:1,flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center"},button:{marginTop:"32px"},icon:{marginRight:"8px"}});function $n(e){var t=e.walletName,a=Yn(),n=Object(k.f)(),r=Object(k.i)();return Object(X.jsxs)("div",{className:a.NoCoins,children:[Object(X.jsxs)(j.a,{variant:"h4",children:[Object(X.jsx)(qn.a,{className:a.icon}),Object(X.jsx)("b",{children:t})," contains no coins!"]}),Object(X.jsxs)(U.a,{variant:"contained",size:"large",color:"primary",className:a.button,startIcon:Object(X.jsx)(ne.a,{}),onClick:function(){return n.push("".concat(r.url,"/add-coin"))},children:["Add a new coin to ",t]})]})}var Jn=Be,Zn={target:null,status:!1};function Kn(){var e=er(),t=Object(n.useState)((function(){return Zn})),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)((function(){return!1})),l=Object(s.a)(c,2),d=l[0],u=l[1],j=B(),p=j.apiServer,x=j.bus,m=Object(k.h)().walletName,f=Object(k.i)(),v=Object(k.f)(),O=_("".concat(p,"/api/v1/coins?walletName=").concat(m)),g=O.loading,N=O.data,y=O.error,w=O.updateData;if(Y(y),g||null===g)return Object(X.jsx)("div",{className:e.loadingBar,children:Object(X.jsx)(T.a,{})});var S=function(e){var t=e.id;w((function(e){return Object(i.a)(Object(i.a)({},e),{},{results:e.results.filter((function(e){return e.rowid!==t}))})}))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn;return o((function(t){return Object(i.a)(Object(i.a)({},t),{},{target:e,status:!t.status})}))},W=function(){var e=Object(b.a)(h.a.mark((function e(){var t,a,n,o,c,i,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.target,a=t.walletName,n=t.coinName,o=t.rowid,u(!0),C(),e.prev=3,c="".concat(p,"/api/v1/coins/").concat(o),i=H(I(c,{method:"DELETE"})),s="Deleting Coin: '".concat(n,"' from wallet '").concat(a,"'..."),x.emit(Jn,{promise:i,label:s}),e.next=10,i;case 10:l=e.sent,S({id:o}),console.log("onDelete Coin",l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error(e.t0);case 18:return e.prev=18,u(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),R=N.results;return(null===R||void 0===R?void 0:R.length)<=0?Object(X.jsx)($n,{walletName:m}):Object(X.jsxs)("div",{className:e.WalletDetails,children:[Object(X.jsx)("div",{className:e.NavBar,children:Object(X.jsx)(U.a,{disabled:d,size:"small",variant:"contained",startIcon:Object(X.jsx)(Fe.a,{}),className:e.backButton,disableElevation:!0,onClick:function(){v.push("/wallets")},children:"Back"})}),Object(X.jsxs)("div",{className:e.root,children:[Object(X.jsx)(L.a,{className:e.table,children:Object(X.jsxs)(E.a,{"aria-label":"coins details",children:[Object(X.jsx)(z.a,{children:Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{className:e.TableHead,children:"Coin Name"}),Object(X.jsx)(M.a,{className:e.TableHead,children:"Address"}),Object(X.jsx)(M.a,{className:e.TableHead,children:"Actions"})]})}),Object(X.jsx)(A.a,{children:R.map((function(t){var a=t.walletName,n=t.coinName,r=t.address,o=t.rowid;return Object(X.jsxs)(F.a,{children:[Object(X.jsx)(M.a,{component:"th",scope:"row",children:Object(X.jsxs)("div",{className:e.coinName,children:[Object(X.jsx)("img",{alt:n,src:"./icons/".concat(n,".png"),onError:function(e){e.target.src="./icons/notfound.png"}}),Object(X.jsx)("span",{children:n})]})}),Object(X.jsx)(M.a,{component:"th",scope:"row",title:r,className:e.ellipsis,children:Object(X.jsxs)("div",{className:e.address,children:[Object(X.jsx)("span",{className:"text-ellipsis",children:r}),Object(X.jsx)(wa.a,{title:"Copy ".concat(n," Address"),className:e.CopyButton,size:"small",onClick:function(){return function(e){return navigator.clipboard.writeText(e)}(r)},"aria-label":"Copy ".concat(n," Address"),children:Object(X.jsx)(Ca.a,{})})]})}),Object(X.jsx)(M.a,{component:"th",scope:"row",children:Object(X.jsx)(U.a,{disabled:d,size:"small",title:"Remove ".concat(n),disableElevation:!0,variant:"contained",startIcon:Object(X.jsx)(se.a,{}),onClick:function(){return C({coinName:n,walletName:a,rowid:o})},children:"Remove"})})]},n)}))})]})}),Object(X.jsxs)(U.a,{variant:"contained",size:"small",color:"primary",className:e.buttonAdd,startIcon:Object(X.jsx)(ne.a,{}),onClick:function(){v.push("".concat(f.url,"/add-coin?redirect=/wallets/").concat(m))},children:["Add Coin to ",m]})]}),r.status&&Object(X.jsx)(Te,{content:Qn,onCancel:function(){return C()},onConfirm:W})]})}var Qn="Deleting a coin will remove the 'idle' workers which are using it",er=Object(u.a)((function(e){return{table:{flex:1,"& table":{border:"1px solid #CCC"}},root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",padding:"8px"},WalletDetails:{display:"flex",flexDirection:"column",flex:1},loadingBar:{flex:1,alignItems:"center",display:"flex",justifyContent:"center"},NavBar:{width:"100%",display:"flex",padding:"16px 8px"},TableHead:{fontWeight:"bold"},ellipsis:{textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"380px",overflow:"hidden"},coinName:{display:"flex",alignItems:"center","& > img":{height:"26px",marginRight:"4px"}},address:{display:"flex",alignItems:"center","& > span":{marginRight:"4px"}},buttonAdd:{position:"absolute",top:"auto",bottom:"16px",left:"auto",right:"16px"}}})),tr=Object(u.a)({FormWrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},Form:{display:"flex",flexDirection:"column",marginTop:"32px",height:"33%",justifyContent:"space-around"},backButton:{position:"absolute",zIndex:2,top:"16px",left:"16px"}});function ar(){var e=tr(),t=B().apiServer,a=Object(k.f)(),r=Object(n.useState)(null),o=Object(s.a)(r,2),c=o[0],i=o[1];Y(c);var l=function(){var e=Object(b.a)(h.a.mark((function e(n){var r,o,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t,"/api/v1/wallets"),e.next=3,I(r,{method:"POST",body:n});case 3:return o=e.sent,e.next=6,o.json();case 6:if(201===(c=e.sent).statusCode&&a.push("/wallets"),"error"===c.status&&(s="Wallet named: '".concat(n.walletName,"' already exist!"),i(new Error(s))),201===c.statusCode){e.next=11;break}return e.abrupt("return",Promise.reject());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)("div",{className:e.FormWrapper,children:[Object(X.jsx)(U.a,{size:"small",variant:"contained",startIcon:Object(X.jsx)(Fe.a,{}),className:e.backButton,disableElevation:!0,onClick:function(){a.push("/wallets")},children:"Back"}),Object(X.jsx)(j.a,{variant:"h3",component:"h3",children:"Add a new Wallet"}),Object(X.jsxs)(Le.b,{className:e.Form,onSubmit:l,children:[Object(X.jsx)(Ze,{autoFocus:!0,helperText:"Accept only letters and numbers...{2,16}",validators:[nr],label:"Type Wallet Name...",variant:"outlined",name:"walletName"}),Object(X.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(X.jsx)(Xe,{size:"large",startIcon:Object(X.jsx)(ne.a,{}),children:"Save"})})]})]})}var nr=function(e){return e&&/^[a-zA-Z0-9]{2,16}$/.test(e)?void 0:"Name not valid"};function rr(e){var t=e.options,a=void 0===t?[]:t,r=e.onChangeValue,o=B().apiServer,c=Object(n.useState)((function(){return a})),i=Object(s.a)(c,2),l=i[0],d=i[1],u=_("".concat(o,"/api/v1/coins/_supported")),j=u.loading,p=u.data;Y(u.error),Object(n.useEffect)((function(){p&&200===p.statusCode&&d(p.results.map((function(e){var t=e.symbol;return{value:t,label:t}})))}),[p]);var h=j||null===j;return Object(X.jsx)(at,{placeholder:"Pick a coin ticker...",onChangeValue:r,isDisabled:h,isLoading:h,options:l,name:"coinName",validators:[or]})}var or=function(e){return"string"===typeof e?void 0:"required"};function cr(e){var t=e.walletName,a=sr(),n=Object(Le.h)((function(e){return e.coinName})),r=Object(s.a)(n,1)[0].split("+");return Object(X.jsx)(Le.a,{array:!0,name:"addresses",children:r.map((function(e,n){return Object(X.jsx)(Ze,{index:n,className:a.TextField,autoFocus:0===n,helperText:"Add a valid '".concat(e,"' Address - Wallet: '").concat(t,"'"),validators:[ir],label:"Type your '".concat(e,"' Address..."),variant:"outlined"},e)}))})}var ir=function(e){return"string"===typeof e&&e.trim().length>=5?void 0:"Address not valid"},sr=Object(u.a)((function(){return{TextField:{marginTop:"4px",marginBottom:"32px"}}}));var lr=["addresses"];function dr(){var e=["Coin Ticker","Coin Address"],t=ur(),a=B().apiServer,r=Object(k.f)(),o=Object(k.h)().walletName,c=new URLSearchParams(Object(k.g)().search),i=Object(n.useState)(0),l=Object(s.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(null),p=Object(s.a)(j,2),x=p[0],m=p[1];Y(x);var f=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,c,i,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.addresses,(c=Object(Me.a)(t,lr)).address=n.join("."),i="".concat(a,"/api/v1/coins"),e.prev=3,e.next=6,I(i,{method:"POST",body:c});case 6:return s=e.sent,e.next=9,s.json();case 9:201===e.sent.statusCode&&r.push("/wallets/".concat(o)),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),l="Coin named: '".concat(t.coinName,"' already exist!"),m(new Error(l)),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),u(d+1)},O=d===e.length-1?Object(X.jsx)(Xe,{startIcon:Object(X.jsx)(ne.a,{}),type:"submit",variant:"contained",color:"primary",children:"Save"}):Object(X.jsx)(Xe,{variant:"contained",color:"primary",onClick:v,children:"Next"});return Object(X.jsxs)("div",{className:t.FormWrapper,children:[Object(X.jsx)(U.a,{size:"small",variant:"contained",startIcon:Object(X.jsx)(Fe.a,{}),className:t.backButton,disableElevation:!0,onClick:function(){var e=c.get("redirect");e?r.push(e):r.push("/wallets")},children:"Back"}),Object(X.jsx)(Ue.a,{className:t.Stepper,activeStep:d,alternativeLabel:!0,children:e.map((function(e){return Object(X.jsx)(Ge.a,{children:Object(X.jsx)(_e.a,{children:e})},e)}))}),Object(X.jsxs)(Le.b,{className:t.Form,onSubmit:f,children:[Object(X.jsx)(Le.c,{type:"hidden",value:o,name:"walletName"}),Object(X.jsxs)(Le.d,{children:[0===d&&Object(X.jsx)(rr,{onChangeValue:v},d),1===d&&Object(X.jsx)(cr,{walletName:o},d)]}),Object(X.jsxs)("div",{className:t.Buttons,children:[Object(X.jsx)(U.a,{disabled:0===d,onClick:function(e){e.preventDefault(),u(d-1)},className:t.backButtonForm,children:"Back"}),O]})]})]})}var ur=Object(u.a)((function(e){return{FormWrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},Form:{display:"flex",flexDirection:"column",marginTop:"32px",height:"33%",width:"100%",maxWidth:"50%",justifyContent:"space-around"},Stepper:{width:"100%",maxWidth:"45%"},backButton:{position:"absolute",zIndex:2,top:"16px",left:"16px"},backButtonForm:{marginRight:e.spacing(4)},Buttons:{display:"flex",justifyContent:"center"}}})),jr=a(210),pr=a.n(jr),hr=a(211),br=a.n(hr),xr=function(e){var t,a=e.walletName,n=mr(),r=B().apiServer,o=_("".concat(r,"/api/v1/workers?walletName=").concat(a)),c=o.loading,i=o.data,s=c||null===c,l=null===i||void 0===i||null===(t=i.results)||void 0===t?void 0:t.length;return Object(X.jsx)("div",{className:n.WorkerCounter,children:Object(X.jsx)(j.a,{variant:"caption",className:n.WorkerInfo,color:"textSecondary",gutterBottom:!0,children:Object(X.jsxs)("span",{children:["Used by"," ",s&&Object(X.jsx)(T.a,{size:14,classes:{root:n.CircularProgress}})," ",l&&l," Workers"]})})})},mr=Object(u.a)({WorkerCounter:{display:"flex",alignItems:"center"},WorkerInfo:{display:"flex",alignItems:"center",justifyContent:"center"}}),fr=function(e){var t,a=e.walletName,n=vr(),r=B().apiServer,o=_("".concat(r,"/api/v1/coins?walletName=").concat(a)),c=o.loading,i=o.data,s=c||null===c,l=null===i||void 0===i||null===(t=i.results)||void 0===t?void 0:t.length;return Object(X.jsxs)("div",{className:n.CoinCounter,children:[Object(X.jsxs)(j.a,{className:n.Typography,color:"textSecondary",variant:"overline",children:["Coins: ",l&&l," "]}),s&&Object(X.jsx)(T.a,{size:14,classes:{root:n.CircularProgress}})]})},vr=Object(u.a)({CoinCounter:{display:"flex",alignItems:"center",marginTop:"8px"},Typography:{fontSize:"0.85rem"}}),Or=Be;function gr(e){var t=e.walletName,a=e.id,r=e.onRemoveWallet,o=yr(),c=Object(n.useState)((function(){return!1})),i=Object(s.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)((function(){return!1})),p=Object(s.a)(u,2),x=p[0],m=p[1],f=B(),v=f.apiServer,O=f.bus,g=Object(k.f)(),N=Object(k.i)(),y=function(){return d((function(e){return!e}))},w=function(){var e=Object(b.a)(h.a.mark((function e(){var n,o,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),y(),e.prev=2,n="".concat(v,"/api/v1/wallets/").concat(a),o=H(I(n,{method:"DELETE"})),c="Deleting Wallet: ".concat(t,"..."),O.emit(Or,{promise:o,label:c}),e.next=9,o;case 9:i=e.sent,r({walletName:t,id:a}),console.log("onDelete walletName",i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:return e.prev=17,m(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return Object(X.jsxs)("div",{className:o.CardWrapper,children:[Object(X.jsxs)(re.a,{className:o.root,variant:"outlined",children:[Object(X.jsxs)(ce.a,{children:[Object(X.jsxs)("div",{className:o.WalletName,children:[Object(X.jsx)(he.a,{}),Object(X.jsx)(j.a,{variant:"h5",component:"h2",children:t})]}),Object(X.jsx)(xr,{walletName:t}),Object(X.jsx)(fr,{walletName:t})]}),Object(X.jsxs)(oe.a,{className:o.CardActions,children:[Object(X.jsx)(U.a,{disabled:x,className:o.buttons,"aria-label":"Add coins",size:"small",onClick:function(){return g.push("".concat(N.path,"/").concat(t,"/add-coin"))},startIcon:Object(X.jsx)(pr.a,{}),title:"Add coins to ".concat(t),children:"Add coins"}),Object(X.jsx)(U.a,{size:"small",disabled:x,className:o.buttons,"aria-label":"Delete",startIcon:Object(X.jsx)(br.a,{}),title:"Delete ".concat(t," wallet"),onClick:y,children:"Delete"})]}),Object(X.jsx)("div",{className:o.buttonCover,onClick:function(){return g.push("".concat(N.path,"/").concat(t))}})]}),l&&Object(X.jsx)(Te,{content:Nr,onCancel:y,onConfirm:w})]})}var Nr="Deleting a wallet will remove all the contained coins and as well as the 'idle' workers which are using it",yr=Object(u.a)({root:{width:"100%",textAlign:"left",cursor:"pointer",position:"relative","&:hover, &:focus":{boxShadow:"0px 10px 13px -7px #e0e0e0"}},CardWrapper:{width:"100%",maxWidth:251,padding:"4px",position:"relative",zIndex:1},buttonCover:{width:"100%",position:"absolute",height:"100%",top:0,left:0,zIndex:1},WalletName:{display:"flex",alignItems:"center",marginBottom:"2px","& > h2":{marginLeft:"4px"}},CoinCounter:{display:"flex",alignItems:"center"},CircularProgress:{marginLeft:"8px"},buttons:{zIndex:2,position:"relative"},CardActions:{display:"flex",justifyContent:"space-between"}}),wr=Object(u.a)({NoWallets:{flex:1,flexDirection:"column",alignItems:"center",display:"flex",justifyContent:"center"},button:{marginTop:"32px"},icon:{marginRight:"8px"},textSecondary:{marginTop:"24px"}});function Sr(e){var t=e.toggleAddWallet,a=wr();return Object(X.jsxs)("div",{className:a.NoWallets,children:[Object(X.jsxs)(j.a,{variant:"h4",children:[Object(X.jsx)(qn.a,{className:a.icon}),"No Wallets!"]}),Object(X.jsx)(U.a,{variant:"contained",size:"large",color:"primary",className:a.button,startIcon:Object(X.jsx)(ne.a,{}),onClick:t,children:"Add a new wallet"}),Object(X.jsx)(j.a,{className:a.textSecondary,color:"textSecondary",children:"You do not have any wallet yet! Please add a wallet!"})]})}var Cr=["walletName"];function kr(e){var t=e.match,a=Wr(),n=B().apiServer,r=Object(k.f)(),o=_("".concat(n,"/api/v1/wallets")),c=o.loading,s=o.data,l=o.error,d=o.updateData;if(c||null===c)return Object(X.jsx)("div",{className:a.loadingBar,children:Object(X.jsx)(T.a,{})});var u=function(){r.push("".concat(t.path,"/add-wallet"))},j=function(e,a){r.push("".concat(t.path,"/").concat(a))},p=function(e){var t=e.id;d((function(e){return Object(i.a)(Object(i.a)({},e),{},{results:e.results.filter((function(e){return e.id!==t}))})}))},h=(null===s||void 0===s?void 0:s.results)||[];return 404===(null===l||void 0===l?void 0:l.statusCode)||h.length<=0?Object(X.jsx)(Sr,{toggleAddWallet:u}):Object(X.jsxs)("div",{className:a.Wallets,children:[Object(X.jsx)("div",{className:a.NavBar,children:Object(X.jsx)(U.a,{variant:"contained",size:"small",color:"primary",className:a.button,startIcon:Object(X.jsx)(ne.a,{}),onClick:u,children:"Add New Wallet"})}),Object(X.jsx)("div",{className:a.root,children:h.map((function(e){var t=e.walletName,a=Object(Me.a)(e,Cr);return Object(X.jsx)(gr,Object(i.a)({onRemoveWallet:p,onClick:j,walletName:t},a),t)}))})]})}var Wr=Object(u.a)((function(e){return{Wallets:{flex:1,flexDirection:"column",position:"relative",display:"flex",overflow:"hidden"},root:{backgroundColor:e.palette.background.paper,display:"flex",flexWrap:"wrap",padding:"0 4px",overflow:"auto","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},NavBar:{width:"100%",display:"flex",padding:"16px 8px"},loadingBar:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"}}}));function Tr(e){var t=e.match;return Object(X.jsxs)(k.c,{children:[Object(X.jsx)(k.a,{path:"".concat(t.path),component:kr,exact:!0}),Object(X.jsx)(k.a,{path:"".concat(t.path,"/add-wallet"),component:ar,exact:!0}),Object(X.jsx)(k.a,{path:"".concat(t.path,"/:walletName"),component:Kn,exact:!0}),Object(X.jsx)(k.a,{path:"".concat(t.path,"/:walletName/add-coin"),component:dr,exact:!0})]})}function Br(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=Object(b.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.namespace,n={namespace:a,api:{}},e.prev=2,e.next=5,fetch("http://localhost:3000/api/v1/".concat(a));case 5:return r=e.sent,e.next=8,r.json();case 8:n.api=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),n.api.err=e.t0,console.log(e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function Rr(){var e=B(),t=e.bus,a=e.socket;return Object(n.useEffect)((function(){t.on("route.event",function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.namespace,console.log({type:"route.event",namespace:n}),e.next=4,Br(t);case 4:r=e.sent,a.sendCommand(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),null}var Hr=a(449),Pr=a(454),Dr=a(450),Er=Object(u.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}}));function Ar(){var e=Er(),t=Object(k.f)(),a=Object(k.g)(),r=Object(n.useState)((function(){var e=Object.keys(Lr).find((function(e){return t.location.pathname.startsWith(e)}));return Lr[e]})),o=Object(s.a)(r,2),c=o[0],l=o[1];return Object(n.useEffect)((function(){if(null===a||void 0===a?void 0:a.pathname){var e,t,n,r=(null===(e=a.pathname)||void 0===e||null===(t=e.split)||void 0===t||null===(n=t.call(e,"/"))||void 0===n?void 0:n[1])||"-1",o=Lr["/".concat(r)];void 0!==o&&l(o)}}),[a]),Object(X.jsx)("div",{className:e.root,children:Object(X.jsx)(Hr.a,{position:"static",children:Object(X.jsxs)(Pr.a,{value:c,onChange:function(e,a){var n;l(a);var r=null===(n=Object.entries(Lr).find((function(e){return Object(s.a)(e,2)[1]===a})))||void 0===n?void 0:n[0];"undefined"!==typeof r&&t.push(r)},"aria-label":"main tabs",children:[Object(X.jsx)(Dr.a,Object(i.a)({label:"Workers"},Mr(2))),Object(X.jsx)(Dr.a,Object(i.a)({label:"Miners"},Mr(0))),Object(X.jsx)(Dr.a,Object(i.a)({label:"Wallets"},Mr(1)))]})})})}function Mr(e){return{id:"main-tab-".concat(e),"aria-controls":"main-tabpanel-".concat(e)}}var Lr={"/workers":0,"/miners":1,"/wallets":2},zr=a(213),Fr=a(451),Ur=Object(zr.a)({palette:{type:"light"}}),Gr=function(e){Object(w.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:null},e}return Object(y.a)(a,[{key:"render",value:function(){return Object(X.jsx)(Fr.a,{theme:Ur,children:Object(X.jsxs)(O.Provider,{value:this.state.value,children:[Object(X.jsxs)(C.a,{children:[Object(X.jsx)(Ar,{}),Object(X.jsxs)(k.c,{children:[Object(X.jsx)(k.a,{path:"/workers",component:Vn}),Object(X.jsx)(k.a,{path:"/miners",component:te}),Object(X.jsx)(k.a,{path:"/wallets",component:Tr})]})]}),Object(X.jsx)(Rr,{})]})})}}],[{key:"getDerivedStateFromProps",value:function(e){return{value:e.value}}}]),a}(r.a.PureComponent),_r=function(e){Object(w.a)(a,e);var t=Object(S.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.selector;return Object(X.jsx)(Ct,{selector:a,children:t})}}]),a}(r.a.PureComponent),Vr=Be;function Xr(e){var t=e.bus,a=qr(),r=Object(n.useState)(!1),o=Object(s.a)(r,2),c=o[0],i=o[1],l=Object(n.useState)(null),u=Object(s.a)(l,2),p=u[0],h=u[1],b=Y().setError;return Object(n.useEffect)((function(){var e=function(){return i(!1)},a=function(t){var a=t.promise,n=t.errorShow,r=void 0===n||n,o=t.label,c=void 0===o?"":o;c.trim().length>0&&h(c),i(!0),a.catch((function(e){return r&&b(e)})).finally(e)};return t.on(Vr,a),function(){t.off(Vr,a)}}),[]),c&&Object(X.jsxs)("div",{className:a.ProgressBar,children:[p&&Object(X.jsx)(j.a,{color:"textSecondary",gutterBottom:!0,children:p}),Object(X.jsx)(d.a,{color:"secondary"})]})}var qr=Object(u.a)((function(){return{ProgressBar:{textAlign:"left",textIndent:"8px",width:"100%",position:"absolute",top:"auto",left:"0",bottom:"0"}}})),Yr=a(31),$r=a(458),Jr=function(){return null};function Zr(e){var t=e.onAccept,a=void 0===t?Jr:t,r=e.onReject,o=void 0===r?Jr:r,c=Kr(),l=Object(n.useState)({checkedDisclaimer:!1}),d=Object(s.a)(l,2),u=d[0],p=d[1],h=Object(n.useState)((function(){return!0})),b=Object(s.a)(h,2),x=b[0],m=b[1],f=Object(n.useState)((function(){return null})),v=Object(s.a)(f,2),O=v[0],g=v[1];return Object(n.useEffect)((function(){var e;return null!==O&&(e=function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&m(!1)},O.addEventListener("scroll",e)),function(){null!==O&&e&&O.removeEventListener("scroll",e)}}),[O]),Object(X.jsxs)(ye.a,{ref:function(e){e&&g(e.querySelector(".MuiDialogContent-root"))},open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(X.jsx)(ke.a,{disableTypography:!0,id:"alert-dialog-title",children:Object(X.jsx)(j.a,{variant:"h6",component:"h6",gutterBottom:!0,className:c.DialogTitle,children:"TERMS OF USE"})}),Object(X.jsxs)(Se.a,{children:[Object(X.jsx)(j.a,{variant:"h6",component:"h6",gutterBottom:!0,className:c.Title,children:"Software License"}),Object(X.jsx)(Ce.a,{className:c.Content,id:"alert-dialog-description",children:Qr}),Object(X.jsx)(j.a,{className:c.Title,variant:"h6",component:"h6",gutterBottom:!0,children:"Mining Pool and Miner Software"}),Object(X.jsx)(Ce.a,{className:c.Content,id:"alert-dialog-description",children:eo}),Object(X.jsx)(j.a,{className:c.Title,variant:"h6",component:"h6",gutterBottom:!0,children:"GPU Overclocking"}),Object(X.jsx)(Ce.a,{className:c.Content,id:"alert-dialog-description",children:to}),Object(X.jsx)(j.a,{className:c.Title,variant:"h6",component:"h6",gutterBottom:!0,children:"Application Analytics"}),Object(X.jsx)(Ce.a,{className:c.Content,id:"alert-dialog-description",children:no}),Object(X.jsx)(j.a,{className:c.Title,variant:"h6",component:"h6",gutterBottom:!0,children:"Application Data and Settings"}),Object(X.jsx)(Ce.a,{className:c.Content,id:"alert-dialog-description",children:ro}),Object(X.jsx)(j.a,{className:c.Title,variant:"h6",component:"h6",gutterBottom:!0,children:"Modifications and Interruptions"}),Object(X.jsx)(Ce.a,{className:c.Content,id:"alert-dialog-description",children:ao})]}),Object(X.jsx)(Zt.a,{className:c.FormControlLabel,control:Object(X.jsx)($r.a,{disabled:x,checked:u.checkedDisclaimer,onChange:function(e){p(Object(i.a)(Object(i.a)({},u),{},Object(Yr.a)({},e.target.name,e.target.checked)))},name:"checkedDisclaimer"}),label:"I have read and understand the Terms of Use"}),Object(X.jsxs)(we.a,{children:[Object(X.jsx)(U.a,{variant:"contained",color:"secondary",onClick:o,children:"Reject Terms"}),Object(X.jsx)(U.a,{disabled:!u.checkedDisclaimer,onClick:a,variant:"contained",color:"primary",children:"Accept Terms"})]})]})}var Kr=Object(u.a)({Content:{fontSize:"15px"},Title:{fontSize:"18px"},DialogTitle:{fontWeight:"bolder"},FormControlLabel:{padding:"4px 16px"}}),Qr="THE SOFTWARE IS PROVIDED \u201cAS IS\u201d, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.",eo="Application does not charge any fees on your mining balance. Fees are charged by the miner software and by the mining pool you pick to mine with. To get more information we kindly invite you to visit the official pool website as well as the miner software website.",to="Application does not apply any overclock setting to your GPUs. Overclocking GPUs is at your own risk. We are not accountable for any possible GPUs damage due to wrongs overclock settings. We kindly suggest you to be cautious on applying overclock settings.",ao="We reserve the right to change, modify, or remove the contents of the Application at any time or for any reason at our sole discretion without notice. However, we have no obligation to update any information on our Application. We also reserve the right to modify or discontinue all or part of the Application without notice at any time. We will not be liable to you or any third party for any modification, suspension, or discontinuance of the Application.",no="We use Google Analytics for aggregated, anonymized website traffic analysis. In order to track your session usage, Google drops a cookie (_ga) with a randomly-generated ClientID. This ID is anonymized and contains no identifiable information like email, phone number, name, etc. Google Analytics collects your IP Address. We use GA to track aggregated application behavior. This information is important to us for improving the user experience, by using the application you consent to the collection of the information by Google Analytics.",ro="Application does not sync on the cloud any data or settings such as workers info, wallets info or any other information. Data is stored locally on your machine. The data safety, integrity and the data backup is your responsibility.",oo=(a(389),Object(l.a)());function co(){var e=so(),t=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bus,t=Object(n.useRef)(null),a=Object(n.useRef)(null),r=Object(n.useRef)(null),o=Object(n.useRef)(null),c=function(){a.current&&a.current.close()},i=function(){a.current&&a.current.close(),t.current&&t.current.connected&&(t.current.emit("leave-room",{roomId:o.current}),t.current.close())},s=function(e){var t="object"===typeof e?JSON.stringify(e):e;r.current.send(t)},l=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.candidate,console.log("handleCandidates");try{n&&a.current.addIceCandidate(new RTCIceCandidate(n))}catch(r){console.log("Candidate Error",r)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){e.oniceconnectionstatechange=function(e){var t=(null===e||void 0===e?void 0:e.target).iceConnectionState;switch(console.info({type:"oniceconnectionstatechange",iceConnectionState:t}),t){case"disconnected":case"failed":case"closed":c()}},e.onnegotiationneeded=function(e){console.info({type:"onnegotiationneeded",event:e})},e.onicecandidate=function(e){console.info({type:"onicecandidate",roomId:o.current}),e.candidate?t.current.emit("candidate",{candidate:e.candidate,roomId:o.current}):console.log("End collecting candidates")}},u=function(){var n=Object(b.a)(h.a.mark((function n(c){var i,s,l;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=c.asker,console.log({type:"handleOffers",asker:i}),a.current=new RTCPeerConnection(f,{}),s={reliable:!0},r.current=a.current.createDataChannel("commands",s),a.current.ondatachannel=function(t){t.channel.onmessage=function(t){try{var a=JSON.parse(t.data);"string"===typeof a.namespace&&(e.emit("route.event",a),console.log({type:"bus.emit",data:a}))}catch(n){console.log({type:"bus.emit.error",err:n})}console.log({type:"channel.onmessage",data:t.data})},t.channel.onopen=function(e){console.log({type:"channel.onopen",event:e})},t.channel.onerror=function(e){console.log({type:"channel.onerror",error:e})}},d(a.current),n.prev=7,n.next=10,a.current.createOffer();case 10:return l=n.sent,n.next=13,a.current.setLocalDescription(l);case 13:t.current.emit("offer",{roomId:o.current,offer:l,to:i}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(7),console.log("Offer Error",n.t0);case 19:case"end":return n.stop()}}),n,null,[[7,16]])})));return function(e){return n.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.answer,console.log({type:"handleAnswers"}),e.prev=2,e.next=5,a.current.setRemoteDescription(new RTCSessionDescription(n));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Answer Error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){console.log({type:"connection",roomId:e,server:v}),o.current=e,t.current=m.a.connect(v),t.current.on("connect",(function(){console.log({type:"connected",roomId:e,server:v}),t.current.on("offer-request",u),t.current.on("answer",j),t.current.on("candidate",l),t.current.emit("create-room",{roomId:o.current})})),t.current.on("disconnect",(function(){console.log({type:"disconnect"})})),t.current.on("connect_error",(function(e){console.log({type:"connect_error",err:e})}))};return Object(n.useEffect)((function(){return function(){i()}}),[]),{connect:p,close:i,sendCommand:s}}({bus:oo}),a=Object(n.useState)((function(){return{bus:oo,socket:t,apiServer:"http://127.0.0.1:3000",isAppLoaded:!1,userSettings:null,winStatus:"restore"}})),o=Object(s.a)(a,2),c=o[0],l=o[1],u=Object(n.useState)((function(){return{list:[]}})),p=Object(s.a)(u,2),x=p[0],O=p[1];Object(n.useEffect)((function(){var e=window.electron.on("onWinStatusChange",(function(e){l((function(t){return Object(i.a)(Object(i.a)({},t),{},{winStatus:e})}))})),t=window.electron.on("onUserSettings",(function(e){l((function(t){return Object(i.a)(Object(i.a)({},t),{},{userSettings:e,isAppLoaded:!0})}))}));return function(){e(),t()}}),[]);if(!c.isAppLoaded)return Object(X.jsxs)("div",{className:e.ProgressBar,children:[Object(X.jsx)(j.a,{variant:"h5",component:"h5",color:"textSecondary",className:e.ProgressBarTitle,gutterBottom:!0,children:"Loading settings..."}),Object(X.jsx)(d.a,{color:"primary"})]});var N=c.userSettings.disclaimerAccepted,y=void 0!==N&&N;return Object(X.jsxs)("div",{className:"App",children:[!y&&Object(X.jsx)(Zr,{onReject:function(){window.electron.send("onDisclaimerRejected")},onAccept:function(){window.electron.send("onDisclaimerAccepted"),l((function(e){return Object(i.a)(Object(i.a)({},e),{},{userSettings:Object(i.a)(Object(i.a)({},e.userSettings),{},{disclaimerAccepted:!0})})}))}}),Object(X.jsxs)(g.Provider,{value:O,children:[Object(X.jsx)(Gr,{value:c}),Object(X.jsx)(_r,{selector:"#notifications",children:x.list.map((function(e,t){var a="".concat(Date.now()).concat(t);return Object(X.jsx)(r.a.Fragment,{children:e},a)}))}),Object(X.jsx)(Xr,{bus:oo})]})]})}var io=Object(n.memo)(co),so=Object(u.a)((function(){return{ProgressBar:{height:"auto",width:"80%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},ProgressBarTitle:{marginBottom:"24px"}}})),lo=a(212),uo=a.n(lo),jo=function(e){Object(w.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,errors:[]},e._relaunchApp=function(){window.electron.send("relaunch")},e}return Object(y.a)(a,[{key:"render",value:function(){return this.state.hasError?Object(X.jsxs)("div",{style:po.root,children:[Object(X.jsx)(uo.a,{color:"secondary",style:{fontSize:60,marginBottom:"12px"}}),Object(X.jsx)(j.a,{variant:"h4",component:"h4",color:"textSecondary",gutterBottom:!0,children:"Oops!"}),Object(X.jsx)(j.a,{variant:"h5",component:"h5",color:"textSecondary",gutterBottom:!0,children:"Something went wrong."}),Object(X.jsx)(j.a,{variant:"h5",component:"h5",color:"textSecondary",gutterBottom:!0,children:"Please restart the application!"}),Object(X.jsx)(U.a,{style:{marginTop:"24px"},onClick:this._relaunchApp,color:"primary",variant:"contained",autoFocus:!0,children:"Restart"})]}):this.props.children}}]),a}(r.a.PureComponent);jo.getDerivedStateFromError=function(){return{hasError:!0}};var po={root:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},table:{flex:1,border:"1px solid #e8eff7",borderRadius:"5px"},TableHead:{fontWeight:"bold",textTransform:"uppercase"}},ho=document.getElementById("root");Object(o.render)(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(jo,{children:Object(X.jsx)(io,{})})}),ho)}},[[390,1,2]]]);
//# sourceMappingURL=main.c743bbd2.chunk.js.map